../../../leveldb/release/db_bench --db=/mnt/hotdb_test/level10B/YCSBa_mem1_1.2_iterator12 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/home/jeff-wang/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/WorkloadAnalysis/comparedDBs/performance_test_scripts/leveldb_scripts/10B_leveldb_zipf_hot_removal/leveldb_memory_usage1MB_10B_key16_val128.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=1048576 --max_file_size=1048576 --print_wa=true 
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
WARNING: Snappy compression is not enabled
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path: 
  data_file_path: /home/jeff-wang/workloads/zipf1.2_keys10.0B.csv
  percentages: 
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2024-11-21 11:03:34 ... thread 0: (99999999,99999999) ops and (17706.9,17706.9) ops/second in (5647.511079,5647.511079) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3     830        0        0     13801     13801      0    2080 17342     0       0     0      0  2080         0 0.000000 0.000000
    1    35      20    2959    52530    52530     40720     40720      0    2169  2327     0       0     0  57906  2169        16 0.000000 1.020262
    2   227     199     891    17543    17543     16657     16657      0     579   605     0       0     0  17427   579       282 1.020262 0.956137
    3   726     729      70     1930     1930      1777      1777      0       0     0     0       0     0   1540     0         0 0.956137 0.000000
user_io:13800.556MB total_ios: 72954.104MB WriteAmplification: 5.2863
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2024-11-21 12:41:48 ... thread 0: (100000000,199999999) ops and (16966.7,17328.9) ops/second in (5893.887884,11541.398963) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2    1633        0        0     27603     27603      0    4151 34693     0       0     0      0  4151         0 0.000000 0.000000
    1    27      20    5967   106849   106849     83158     83158      0    4344  4629     0       0     0 120003  4344        37 0.000000 0.000306
    2   256     199    1843    35283    35283     33503     33503      0    1642  1736     0       0     0  37814  1642       282 0.000306 0.956137
    3  1413    1398     237     6615     6615      6101      6101      0       0     0     0       0     0   5503     0         0 0.956137 0.000000
user_io:27603.491MB total_ios: 150365.030MB WriteAmplification: 5.4473
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2024-11-21 14:26:07 ... thread 0: (100000000,299999999) ops and (15978.8,16854.2) ops/second in (6258.300126,17799.699089) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5       4    2438        0        0     41406     41406      0    6234 52039     0       0     0      0  6234         0 0.000000 0.000000
    1    27      19    9124   161248   161248    125671    125671      0    6512  6931     0       0     0 182304  6512        61 0.000000 1.021976
    2   247     174    2835    52863    52863     50201     50201      0    2694  2864     0       0     0  61043  2694       390 1.021976 1.021353
    3  1788    1749     487    12925    12925     12113     12113      0       0     0     0       0     0  11158     0       414 1.021353 1.023496
    4   414     409       0        0        0         0         0      0       0     0     0       0     0      0     0         0 1.023496 0.000000
user_io:41406.422MB total_ios: 229390.849MB WriteAmplification: 5.5400
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2024-11-21 16:09:48 ... thread 0: (100000000,399999999) ops and (16074.3,16652.2) ops/second in (6221.127387,24020.826476) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3    3207        0        0     55210     55210      0    8322 69389     0       0     0      0  8322         0 0.000000 0.000000
    1    24      19   12197   215441   215441    167977    167977      0    8677  9226     0       0     0 244245  8677        79 0.000000 1.023910
    2   309     192    3840    70519    70519     66973     66973      0    3807  4129     0       0     0  85403  3807       456 1.023910 0.851171
    3  1962    1921     752    19911    19911     18852     18852      0       3     3     0       0     0  17624     3      1016 0.851171 1.023672
    4  1019    1004       1       21       21        21        21      0       0     0     0       0     0     18     0         0 1.023672 0.000000
user_io:55210.130MB total_ios: 309032.402MB WriteAmplification: 5.5974
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2024-11-21 17:48:57 ... thread 0: (100000000,499999999) ops and (16809.4,16683.4) ops/second in (5949.059819,29969.886295) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3       2    3953        0        0     69012     69012      0   10419 86739     0       0     0      0 10419         0 0.000000 0.000000
    1    27      20   15071   269885   269885    210536    210536      0   10852 11535     0       0     0 306546 10852        94 0.000000 0.000306
    2   313     195    4799    88216    88216     83781     83781      0    4896  5264     0       0     0 109609  4896       458 0.000306 0.053246
    3  2026    1956     993    26895    26895     25509     25509      0       6     6     0       0     0  24047     6      1686 0.053246 1.022784
    4  1692    1668       2       47       47        46        46      0       0     0     0       0     0     40     0         0 1.022784 0.000000
user_io:69012.280MB total_ios: 388884.062MB WriteAmplification: 5.6350
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2024-11-21 19:28:04 ... thread 0: (100000000,599999999) ops and (16814.6,16705.1) ops/second in (5947.217004,35917.103299) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7       6    4679        0        0     82816     82816      0   12524 104085     0       0     0      0 12524         0 0.000000 0.000000
    1    32      20   17963   324308   324308    253074    253074      0   13012 13836     0       0     0 368783 13012       117 0.000000 0.000306
    2   271     190    5726   105913   105913    100604    100604      0    6037  6474     0       0     0 134442  6037       460 0.000306 0.548200
    3  2005    1910    1226    33600    33600     31786     31786      0       8     8     0       0     0  30308     8      2359 0.548200 1.020694
    4  2367    2332       3       63       63        63        63      0       0     0     0       0     0     55     0         0 1.020694 0.000000
user_io:82815.972MB total_ios: 468342.363MB WriteAmplification: 5.6552
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2024-11-21 21:00:12 ... thread 0: (100000000,699999999) ops and (18088.6,16889.7) ops/second in (5528.339561,41445.442860) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3       2    5359        0        0     96618     96618      0   14636 121437     0       0     0      0 14636         0 0.000000 0.000000
    1    30      21   20609   378400   378400    295271    295271      0   15159 16121     0       0     0 430477 15159       140 0.000000 1.021764
    2   294     191    6530   123423   123423    117251    117251      0    7272  7760     0       0     0 158434  7272       462 1.021764 0.105402
    3  1987    1880    1464    41001    41001     38727     38727      0      11    11     0       0     0  37276    11      2988 0.105402 1.022064
    4  2999    2948       4       87       87        86        86      0       0     0     0       0     0     76     0         0 1.022064 0.000000
user_io:96618.089MB total_ios: 547953.387MB WriteAmplification: 5.6713
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2024-11-21 22:43:40 ... thread 0: (100000000,799999999) ops and (16108.0,16787.8) ops/second in (6208.077124,47653.519984) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3    6099        0        0    110421    110421      0   16724 138785     0       0     0      0 16724         0 0.000000 0.000000
    1    31      20   23474   432310   432310    337299    337299      0   17319 18409     0       0     0 492008 17319       160 0.000000 1.020400
    2   324     199    7417   141005   141005    133951    133951      0    8306  8928     0       0     0 182201  8306       593 1.020400 1.022559
    3  2111    1996    1845    47601    47601     45003     45003      0     437   437     0       0     0  43662   437      3166 1.022559 0.148598
    4  3242    3198      50     1199     1199       858       858      0       0     0     0       0     0    980     0         0 0.148598 0.000000
user_io:110421.022MB total_ios: 627532.262MB WriteAmplification: 5.6831
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2024-11-22 00:54:48 ... thread 0: (100000000,899999999) ops and (12711.1,16210.2) ops/second in (7867.109835,55520.629819) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2    7062        0        0    124225    124225      0   18781 156137     0       0     0      0 18781         0 0.000000 0.000000
    1    33      20   26992   486321   486321    379417    379417      0   19497 20709     0       0     0 553969 19497       177 0.000000 1.020338
    2   253     197    8436   158627   158627    150701    150701      0    9431 10153     0       0     0 207123  9431       595 1.020338 0.353187
    3  2115    1974    2444    54435    54435     51497     51497      0    1177  1177     0       0     0  50196  1177      3166 0.353187 0.148598
    4  3736    3725     150     3195     3195      2655      2655      0       0     0     0       0     0   2620     0         0 0.148598 0.000000
user_io:124224.740MB total_ios: 708495.347MB WriteAmplification: 5.7033
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2024-11-22 02:37:13 ... thread 0: (100000000,999999999) ops and (16273.4,16216.5) ops/second in (6144.979534,61665.609353) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1       1    7808        0        0    138028    138028      0   20870 173486     0       0     0      0 20870         0 0.000000 0.000000
    1    31      20   29773   540605   540605    421805    421805      0   21645 22999     0       0     0 616069 21645       198 0.000000 1.020476
    2   293     193    9285   176107   176107    167307    167307      0   10580 11368     0       0     0 231791 10580       595 1.020476 0.353187
    3  2104    1919    2718    61765    61765     58446     58446      0    1896  1908     0       0     0  57290  1896      3166 0.353187 0.148598
    4  4381    4399     245     5195     5195      4619      4619      0       0     0     0       0     0   4251     0         0 0.148598 0.000000
user_io:138027.665MB total_ios: 790205.349MB WriteAmplification: 5.7250
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :      61.666 micros/op 16216 ops/sec;    2.2 MB/s
Microseconds per op:
Count: 1000000000  Average: 61.6656  StdDev: 1860.32
Percentiles: P50: 6.93 P75: 9.98 P99: 1162.55 P99.9: 3323.08 P99.99: 34407.41
------------------------------------------------------
[       2,       3 )      11   0.000%   0.000% 
[       3,       4 ) 6161107   0.616%   0.616% 
[       4,       5 ) 124327841  12.433%  13.049% ##
[       5,       6 ) 225705227  22.571%  35.619% #####
[       6,       7 ) 155242536  15.524%  51.144% ###
[       7,       8 ) 105294597  10.529%  61.673% ##
[       8,       9 ) 77571696   7.757%  69.430% ##
[       9,      10 ) 56974009   5.697%  75.128% #
[      10,      12 ) 75224439   7.522%  82.650% ##
[      12,      14 ) 47747195   4.775%  87.425% #
[      14,      16 ) 38502558   3.850%  91.275% #
[      16,      18 ) 27006573   2.701%  93.976% #
[      18,      20 ) 15047671   1.505%  95.481% 
[      20,      25 ) 10696403   1.070%  96.550% 
[      25,      30 ) 2751295   0.275%  96.825% 
[      30,      35 )  983106   0.098%  96.924% 
[      35,      40 )  374837   0.037%  96.961% 
[      40,      45 )  132960   0.013%  96.974% 
[      45,      50 )   65463   0.007%  96.981% 
[      50,      60 )   71476   0.007%  96.988% 
[      60,      70 )   45578   0.005%  96.993% 
[      70,      80 )   37139   0.004%  96.996% 
[      80,      90 )   32905   0.003%  97.000% 
[      90,     100 )   26980   0.003%  97.002% 
[     100,     120 )   41196   0.004%  97.006% 
[     120,     140 )   31392   0.003%  97.010% 
[     140,     160 )   29246   0.003%  97.013% 
[     160,     180 )   26786   0.003%  97.015% 
[     180,     200 )   25122   0.003%  97.018% 
[     200,     250 )   58959   0.006%  97.024% 
[     250,     300 )   57278   0.006%  97.029% 
[     300,     350 )   57780   0.006%  97.035% 
[     350,     400 )   55810   0.006%  97.041% 
[     400,     450 )   51607   0.005%  97.046% 
[     450,     500 )   44050   0.004%  97.050% 
[     500,     600 )   73440   0.007%  97.058% 
[     600,     700 )   55434   0.006%  97.063% 
[     700,     800 )   50554   0.005%  97.068% 
[     800,     900 )   49962   0.005%  97.073% 
[     900,    1000 )   42794   0.004%  97.078% 
[    1000,    1200 ) 23653589   2.365%  99.443% 
[    1200,    1400 ) 2643902   0.264%  99.707% 
[    1400,    1600 )  440256   0.044%  99.751% 
[    1600,    1800 )  312804   0.031%  99.783% 
[    1800,    2000 )  279284   0.028%  99.810% 
[    2000,    2500 )  434043   0.043%  99.854% 
[    2500,    3000 )  328953   0.033%  99.887% 
[    3000,    3500 )  204527   0.020%  99.907% 
[    3500,    4000 )  141662   0.014%  99.921% 
[    4000,    4500 )   99976   0.010%  99.931% 
[    4500,    5000 )   72017   0.007%  99.939% 
[    5000,    6000 )   98992   0.010%  99.949% 
[    6000,    7000 )   64189   0.006%  99.955% 
[    7000,    8000 )   40828   0.004%  99.959% 
[    8000,    9000 )   28740   0.003%  99.962% 
[    9000,   10000 )   23305   0.002%  99.964% 
[   10000,   12000 )   39890   0.004%  99.968% 
[   12000,   14000 )   42533   0.004%  99.972% 
[   14000,   16000 )   34355   0.003%  99.976% 
[   16000,   18000 )   36273   0.004%  99.980% 
[   18000,   20000 )   32364   0.003%  99.983% 
[   20000,   25000 )   48341   0.005%  99.988% 
[   25000,   30000 )   17501   0.002%  99.989% 
[   30000,   35000 )    7560   0.001%  99.990% 
[   35000,   40000 )    6514   0.001%  99.991% 
[   40000,   45000 )    4172   0.000%  99.991% 
[   45000,   50000 )    2305   0.000%  99.991% 
[   50000,   60000 )    2776   0.000%  99.992% 
[   60000,   70000 )    3695   0.000%  99.992% 
[   70000,   80000 )   49227   0.005%  99.997% 
[   80000,   90000 )    2693   0.000%  99.997% 
[   90000,  100000 )    1734   0.000%  99.997% 
[  100000,  120000 )    1961   0.000%  99.998% 
[  120000,  140000 )    1547   0.000%  99.998% 
[  140000,  160000 )    1261   0.000%  99.998% 
[  160000,  180000 )    1056   0.000%  99.998% 
[  180000,  200000 )    1247   0.000%  99.998% 
[  200000,  250000 )    3135   0.000%  99.998% 
[  250000,  300000 )    5040   0.001%  99.999% 
[  300000,  350000 )    3886   0.000%  99.999% 
[  350000,  400000 )    2540   0.000% 100.000% 
[  400000,  450000 )    1474   0.000% 100.000% 
[  450000,  500000 )     838   0.000% 100.000% 
[  500000,  600000 )     891   0.000% 100.000% 
[  600000,  700000 )     444   0.000% 100.000% 
[  700000,  800000 )     244   0.000% 100.000% 
[  800000,  900000 )     161   0.000% 100.000% 
[  900000, 1000000 )      98   0.000% 100.000% 
[ 1000000, 1200000 )      90   0.000% 100.000% 
[ 1200000, 1400000 )      41   0.000% 100.000% 
[ 1400000, 1600000 )      13   0.000% 100.000% 
[ 1600000, 1800000 )       9   0.000% 100.000% 
[ 1800000, 2000000 )       5   0.000% 100.000% 
[ 2000000, 2500000 )       6   0.000% 100.000% 
[ 2500000, 3000000 )       1   0.000% 100.000% 


                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        1        1      7808        0    138028
  1       31       20     29773   540605    421805
  2      293      193      9285   176107    167307
  3     2104     1919      2718    61765     58446
  4     4381     4399       245     5195      4619
user_io:138027.665MB total_ios: 790205.349MB WriteAmplification: 5.7250

