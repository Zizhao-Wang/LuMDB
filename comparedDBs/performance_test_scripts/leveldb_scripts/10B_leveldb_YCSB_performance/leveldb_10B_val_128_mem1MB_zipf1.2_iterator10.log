../../../leveldb/release/db_bench --db=/mnt/hotdb_test/level10B/YCSBa_mem1_1.2_iterator10 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/home/jeff-wang/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/WorkloadAnalysis/comparedDBs/performance_test_scripts/leveldb_scripts/10B_leveldb_zipf_hot_removal/leveldb_memory_usage1MB_10B_key16_val128.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=1048576 --max_file_size=1048576 --print_wa=true 
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
WARNING: Snappy compression is not enabled
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path: 
  data_file_path: /home/jeff-wang/workloads/zipf1.2_keys10.0B.csv
  percentages: 
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2024-11-20 02:07:52 ... thread 0: (99999999,99999999) ops and (16855.4,16855.4) ops/second in (5932.830771,5932.830771) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1       1     885        0        0     13801     13801      0    2069 17345     0       0     0      0  2069         0 0.000000 0.000000
    1    31      20    3130    52474    52474     40657     40657      0    2171  2315     0       0     0  57907  2171        22 0.000000 1.020509
    2   226     198     931    17515    17515     16633     16633      0     580   603     0       0     0  17417   580       290 1.020509 0.425467
    3   726     726      94     1905     1905      1749      1749      0       0     0     0       0     0   1519     0         0 0.425467 0.000000
user_io:13800.556MB total_ios: 72839.713MB WriteAmplification: 5.2780
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2024-11-20 03:34:55 ... thread 0: (100000000,199999999) ops and (19143.9,17926.9) ops/second in (5223.597567,11156.428338) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1560        0        0     27603     27603      0    4175 34695     0       0     0      0  4175         0 0.000000 0.000000
    1    28      20    5886   107392   107392     83696     83696      0    4361  4641     0       0     0 121058  4361        42 0.000000 1.020251
    2   259     200    1749    35450    35450     33675     33675      0    1630  1730     0       0     0  37987  1630       290 1.020251 0.425467
    3  1414    1396     255     6589     6589      6074      6074      0       0     0     0       0     0   5500     0         0 0.425467 0.000000
user_io:27603.491MB total_ios: 151048.021MB WriteAmplification: 5.4721
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2024-11-20 05:14:12 ... thread 0: (100000000,299999999) ops and (16788.0,17530.5) ops/second in (5956.619243,17113.047581) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    2310        0        0     41406     41406      0    6275 52044     0       0     0      0  6275         0 0.000000 0.000000
    1    28      20    8845   162029   162029    126451    126451      0    6540  6933     0       0     0 183722  6540        63 0.000000 1.021444
    2   258     179    2728    53196    53196     50533     50533      0    2703  2863     0       0     0  61493  2703       389 1.021444 1.020851
    3  1821    1787     567    12959    12959     12143     12143      0       0     0     0       0     0  11222     0       366 1.020851 1.023281
    4   366     365       0        0        0         0         0      0       0     0     0       0     0      0     0         0 1.023281 0.000000
user_io:41406.422MB total_ios: 230534.010MB WriteAmplification: 5.5676
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2024-11-20 06:54:08 ... thread 0: (100000000,399999999) ops and (16678.6,17309.5) ops/second in (5995.710567,23108.758148) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1       1    3055        0        0     55209     55209      0    8380 69392     0       0     0      0  8380         0 0.000000 0.000000
    1    27      19   11799   216441   216441    168978    168978      0    8712  9229     0       0     0 245802  8712        82 0.000000 1.022001
    2   314     192    3697    70916    70916     67368     67368      0    3824  4128     0       0     0  85693  3824       468 1.022001 0.066055
    3  1934    1885     818    19952    19952     18897     18897      0       4     4     0       0     0  17703     4      1059 0.066055 1.020076
    4  1062    1045       1       22       22        21        21      0       0     0     0       0     0     19     0         0 1.020076 0.000000
user_io:55209.334MB total_ios: 310473.312MB WriteAmplification: 5.6236
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2024-11-20 08:29:11 ... thread 0: (100000000,499999999) ops and (17533.0,17353.7) ops/second in (5703.527771,28812.285919) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2    3762        0        0     69012     69012      0   10491 86740     0       0     0      0 10491         0 0.000000 0.000000
    1    32      21   14572   270773   270773    211425    211425      0   10881 11533     0       0     0 308010 10881        98 0.000000 0.000306
    2   309     199    4611    88732    88732     84302     84302      0    4912  5267     0       0     0 110105  4912       471 0.000306 0.147072
    3  2016    1955    1044    26792    26792     25404     25404      0       7     7     0       0     0  24014     7      1689 0.147072 1.023033
    4  1695    1669       1       38       38        38        38      0       0     0     0       0     0     32     0         0 1.023033 0.000000
user_io:69012.280MB total_ios: 390180.711MB WriteAmplification: 5.6538
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2024-11-20 09:54:52 ... thread 0: (100000000,599999999) ops and (19450.5,17671.2) ops/second in (5141.267036,33953.552955) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5       4    4376        0        0     82815     82815      0   12617 104086     0       0     0      0 12617         0 0.000000 0.000000
    1    33      20   17066   324821   324821    253596    253596      0   13033 13823     0       0     0 369727 13033       120 0.000000 1.021039
    2   259     196    5399   106281   106281    100972    100972      0    6058  6490     0       0     0 134391  6058       473 1.021039 0.569354
    3  1951    1842    1241    33496    33496     31686     31686      0       9     9     0       0     0  30275     9      2439 0.569354 1.022502
    4  2447    2407       1       54       54        53        53      0       0     0     0       0     0     45     0         0 1.022502 0.000000
user_io:82815.176MB total_ios: 469122.272MB WriteAmplification: 5.6647
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2024-11-20 11:23:13 ... thread 0: (100000000,699999999) ops and (18864.4,17832.3) ops/second in (5300.998262,39254.551217) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3    4991        0        0     96619     96619      0   14746 121437     0       0     0      0 14746         0 0.000000 0.000000
    1    29      20   19622   378793   378793    295689    295689      0   15192 16116     0       0     0 431178 15192       142 0.000000 1.021663
    2   291     196    6219   123918   123918    117731    117731      0    7290  7778     0       0     0 158502  7290       473 1.021663 0.569354
    3  2013    1888    1454    40708    40708     38443     38443      0      12    12     0       0     0  37143    12      2996 0.569354 0.353168
    4  3007    2955       3       70       70        69        69      0       0     0     0       0     0     58     0         0 0.353168 0.000000
user_io:96618.884MB total_ios: 548550.505MB WriteAmplification: 5.6775
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2024-11-20 12:51:24 ... thread 0: (100000000,799999999) ops and (18901.2,17959.3) ops/second in (5290.668458,44545.219675) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3       2    5596        0        0    110421    110421      0   16875 138786     0       0     0      0 16875         0 0.000000 0.000000
    1    31      21   22173   433082   433082    338098    338098      0   17369 18416     0       0     0 493180 17369       163 0.000000 0.000306
    2   307     200    6977   141656   141656    134590    134590      0    8336  8966     0       0     0 182781  8336       608 0.000306 0.023284
    3  2109    1972    1652    47458    47458     44896     44896      0     577   579     0       0     0  43640   577      3099 0.023284 0.961811
    4  3252    3212      49     1572     1572      1170      1170      0       0     0     0       0     0   1273     0         0 0.961811 0.000000
user_io:110421.022MB total_ios: 629175.091MB WriteAmplification: 5.6980
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2024-11-20 14:22:17 ... thread 0: (100000000,899999999) ops and (18337.4,18000.5) ops/second in (5453.323454,49998.543129) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1       1    6219        0        0    124225    124225      0   19000 156138     0       0     0      0 19000         0 0.000000 0.000000
    1    34      21   24769   487734   487734    380865    380865      0   19533 20707     0       0     0 555785 19533       180 0.000000 1.020805
    2   290     196    7764   159390   159390    151445    151445      0    9461 10171     0       0     0 207125  9461       608 1.020805 0.023284
    3  2138    1959    1853    54180    54180     51280     51280      0    1313  1318     0       0     0  50100  1313      3099 0.023284 0.961811
    4  3794    3790     101     3560     3560      3017      3017      0       0     0     0       0     0   2918     0         0 0.961811 0.000000
user_io:124224.740MB total_ios: 710831.197MB WriteAmplification: 5.7221
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2024-11-20 15:57:18 ... thread 0: (100000000,999999999) ops and (17543.0,17953.7) ops/second in (5700.275064,55698.818193) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2    6859        0        0    138027    138027      0   21122 173485     0       0     0      0 21122         0 0.000000 0.000000
    1    31      20   27492   542388   542388    423632    423632      0   21700 23002     0       0     0 618449 21700       200 0.000000 1.021283
    2   274     197    8585   177066   177066    168243    168243      0   10602 11403     0       0     0 232143 10602       608 1.021283 0.023284
    3  2105    1936    2055    61144    61144     57843     57843      0    1987  2001     0       0     0  56914  1987      3099 0.023284 0.961811
    4  4402    4426     154     5424     5424      4858      4858      0       0     0     0       0     0   4440     0         0 0.961811 0.000000
user_io:138026.869MB total_ios: 792603.014MB WriteAmplification: 5.7424
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :      55.699 micros/op 17953 ops/sec;    2.5 MB/s
Microseconds per op:
Count: 1000000000  Average: 55.6988  StdDev: 1585.97
Percentiles: P50: 7.09 P75: 9.98 P99: 1149.86 P99.9: 3321.74 P99.99: 25566.61
------------------------------------------------------
[       3,       4 ) 4345447   0.435%   0.435% 
[       4,       5 ) 108013734  10.801%  11.236% ##
[       5,       6 ) 214214899  21.421%  32.657% ####
[       6,       7 ) 162689777  16.269%  48.926% ###
[       7,       8 ) 113534582  11.353%  60.280% ##
[       8,       9 ) 85619485   8.562%  68.842% ##
[       9,      10 ) 63073602   6.307%  75.149% #
[      10,      12 ) 81734168   8.173%  83.323% ##
[      12,      14 ) 48229318   4.823%  88.146% #
[      14,      16 ) 35131325   3.513%  91.659% #
[      16,      18 ) 23950405   2.395%  94.054% 
[      18,      20 ) 13745508   1.375%  95.428% 
[      20,      25 ) 11873993   1.187%  96.616% 
[      25,      30 ) 3848387   0.385%  97.000% 
[      30,      35 ) 1457416   0.146%  97.146% 
[      35,      40 )  562840   0.056%  97.202% 
[      40,      45 )  217315   0.022%  97.224% 
[      45,      50 )   98393   0.010%  97.234% 
[      50,      60 )   86482   0.009%  97.243% 
[      60,      70 )   48155   0.005%  97.248% 
[      70,      80 )   40317   0.004%  97.252% 
[      80,      90 )   36982   0.004%  97.255% 
[      90,     100 )   30559   0.003%  97.258% 
[     100,     120 )   46718   0.005%  97.263% 
[     120,     140 )   34007   0.003%  97.266% 
[     140,     160 )   29935   0.003%  97.269% 
[     160,     180 )   27109   0.003%  97.272% 
[     180,     200 )   25484   0.003%  97.275% 
[     200,     250 )   61819   0.006%  97.281% 
[     250,     300 )   58330   0.006%  97.287% 
[     300,     350 )   55970   0.006%  97.292% 
[     350,     400 )   55104   0.006%  97.298% 
[     400,     450 )   52691   0.005%  97.303% 
[     450,     500 )   46520   0.005%  97.308% 
[     500,     600 )   76852   0.008%  97.315% 
[     600,     700 )   53378   0.005%  97.321% 
[     700,     800 )   46675   0.005%  97.325% 
[     800,     900 )   48506   0.005%  97.330% 
[     900,    1000 )   44013   0.004%  97.335% 
[    1000,    1200 ) 22225315   2.223%  99.557% 
[    1200,    1400 ) 1421188   0.142%  99.699% 
[    1400,    1600 )  400601   0.040%  99.739% 
[    1600,    1800 )  285487   0.029%  99.768% 
[    1800,    2000 )  257202   0.026%  99.794% 
[    2000,    2500 )  494075   0.049%  99.843% 
[    2500,    3000 )  398778   0.040%  99.883% 
[    3000,    3500 )  265981   0.027%  99.909% 
[    3500,    4000 )  184670   0.018%  99.928% 
[    4000,    4500 )  117625   0.012%  99.940% 
[    4500,    5000 )   75681   0.008%  99.947% 
[    5000,    6000 )   86075   0.009%  99.956% 
[    6000,    7000 )   43646   0.004%  99.960% 
[    7000,    8000 )   25142   0.003%  99.963% 
[    8000,    9000 )   19011   0.002%  99.965% 
[    9000,   10000 )   17372   0.002%  99.966% 
[   10000,   12000 )   33248   0.003%  99.970% 
[   12000,   14000 )   36089   0.004%  99.973% 
[   14000,   16000 )   35440   0.004%  99.977% 
[   16000,   18000 )   38903   0.004%  99.981% 
[   18000,   20000 )   36396   0.004%  99.984% 
[   20000,   25000 )   53677   0.005%  99.990% 
[   25000,   30000 )   19396   0.002%  99.992% 
[   30000,   35000 )    7656   0.001%  99.992% 
[   35000,   40000 )    6468   0.001%  99.993% 
[   40000,   45000 )    3563   0.000%  99.993% 
[   45000,   50000 )    1673   0.000%  99.994% 
[   50000,   60000 )    2198   0.000%  99.994% 
[   60000,   70000 )    3532   0.000%  99.994% 
[   70000,   80000 )   36086   0.004%  99.998% 
[   80000,   90000 )    1528   0.000%  99.998% 
[   90000,  100000 )     731   0.000%  99.998% 
[  100000,  120000 )     813   0.000%  99.998% 
[  120000,  140000 )     909   0.000%  99.998% 
[  140000,  160000 )     887   0.000%  99.998% 
[  160000,  180000 )     692   0.000%  99.998% 
[  180000,  200000 )     958   0.000%  99.998% 
[  200000,  250000 )    2772   0.000%  99.999% 
[  250000,  300000 )    4091   0.000%  99.999% 
[  300000,  350000 )    3432   0.000% 100.000% 
[  350000,  400000 )    2093   0.000% 100.000% 
[  400000,  450000 )    1036   0.000% 100.000% 
[  450000,  500000 )     536   0.000% 100.000% 
[  500000,  600000 )     482   0.000% 100.000% 
[  600000,  700000 )     235   0.000% 100.000% 
[  700000,  800000 )     164   0.000% 100.000% 
[  800000,  900000 )      98   0.000% 100.000% 
[  900000, 1000000 )      67   0.000% 100.000% 
[ 1000000, 1200000 )      71   0.000% 100.000% 
[ 1200000, 1400000 )      12   0.000% 100.000% 
[ 1400000, 1600000 )      11   0.000% 100.000% 
[ 1600000, 1800000 )       3   0.000% 100.000% 
[ 1800000, 2000000 )       4   0.000% 100.000% 
[ 2000000, 2500000 )       1   0.000% 100.000% 


                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        2        2      6859        0    138027
  1       31       20     27492   542388    423632
  2      274      197      8585   177066    168243
  3     2105     1936      2055    61144     57843
  4     4402     4426       154     5424      4858
user_io:138026.869MB total_ios: 792603.014MB WriteAmplification: 5.7424

