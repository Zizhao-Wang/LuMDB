../../../leveldb/release/db_bench --db=/mnt/hotdb_test/level10B/YCSBa_mem1_1.2_iterator11 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/home/jeff-wang/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/WorkloadAnalysis/comparedDBs/performance_test_scripts/leveldb_scripts/10B_leveldb_zipf_hot_removal/leveldb_memory_usage1MB_10B_key16_val128.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=1048576 --max_file_size=1048576 --print_wa=true 
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
WARNING: Snappy compression is not enabled
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path: 
  data_file_path: /home/jeff-wang/workloads/zipf1.2_keys10.0B.csv
  percentages: 
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2024-11-20 17:12:31 ... thread 0: (99999999,99999999) ops and (22159.1,22159.1) ops/second in (4512.812559,4512.812559) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0     633        0        0     13801     13801      0    2126 17346     0       0     0      0  2126         0 0.000000 0.000000
    1    33      20    2425    52497    52497     40706     40706      0    2217  2356     0       0     0  57856  2217        17 0.000000 1.020754
    2   228     200     732    18054    18054     17150     17150      0     582   610     0       0     0  17975   582       279 1.020754 0.000306
    3   732     731      60     1926     1926      1772      1772      0       0     0     0       0     0   1541     0         0 0.000306 0.000000
user_io:13800.556MB total_ios: 73428.799MB WriteAmplification: 5.3207
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2024-11-20 18:36:24 ... thread 0: (100000000,199999999) ops and (19868.6,20951.4) ops/second in (5033.076750,9545.889309) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3    1276        0        0     27603     27603      0    4240 34691     0       0     0      0  4240         0 0.000000 0.000000
    1    33      20    5096   107405   107405     83735     83735      0    4393  4661     0       0     0 120751  4393        39 0.000000 0.000306
    2   270     200    1531    35852    35852     34062     34062      0    1654  1747     0       0     0  38529  1654       281 0.000306 0.000306
    3  1417    1403     210     6695     6695      6177      6177      0       0     0     0       0     0   5618     0         0 0.000306 0.000000
user_io:27603.491MB total_ios: 151577.524MB WriteAmplification: 5.4912
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2024-11-20 19:59:14 ... thread 0: (100000000,299999999) ops and (20123.8,20668.1) ops/second in (4969.234277,14515.123586) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7       6    1884        0        0     41406     41406      0    6360 52037     0       0     0      0  6360         0 0.000000 0.000000
    1    32      19    7639   162219   162219    126665    126665      0    6584  6984     0       0     0 183696  6584        57 0.000000 1.020365
    2   254     183    2350    53766    53766     51096     51096      0    2684  2849     0       0     0  62196  2684       407 1.020365 1.022618
    3  1753    1711     394    12832    12832     12022     12022      0       0     0     0       0     0  11106     0       464 1.022618 1.023802
    4   464     454       0        0        0         0         0      0       0     0     0       0     0      0     0         0 1.023802 0.000000
user_io:41406.422MB total_ios: 231189.231MB WriteAmplification: 5.5834
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2024-11-20 21:23:36 ... thread 0: (100000000,399999999) ops and (19751.9,20431.2) ops/second in (5062.799922,19577.923508) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7       6    2486        0        0     55209     55209      0    8481 69386     0       0     0      0  8481         0 0.000000 0.000000
    1    32      20   10161   216910   216910    169483    169483      0    8762  9295     0       0     0 246255  8762        75 0.000000 1.020847
    2   298     197    3171    71529    71529     67963     67963      0    3827  4140     0       0     0  86410  3827       454 1.020847 0.000306
    3  1939    1901     621    19842    19842     18759     18759      0       3     3     0       0     0  17578     3      1025 0.000306 1.023824
    4  1028    1008       0       15       15        14        14      0       0     0     0       0     0     12     0         0 1.023824 0.000000
user_io:55209.334MB total_ios: 311428.402MB WriteAmplification: 5.6409
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2024-11-20 22:48:06 ... thread 0: (100000000,499999999) ops and (19724.6,20285.8) ops/second in (5069.819748,24647.743256) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2    3097        0        0     69012     69012      0   10605 86740     0       0     0      0 10605         0 0.000000 0.000000
    1    29      19   12640   271848   271848    212530    212530      0   10947 11603     0       0     0 309508 10947        89 0.000000 1.022580
    2   320     192    3952    89475    89475     85020     85020      0    4910  5276     0       0     0 111160  4910       456 1.022580 0.480462
    3  1999    1928     833    26843    26843     25439     25439      0       7     7     0       0     0  23986     7      1714 0.480462 1.023515
    4  1721    1694       3       44       44        44        44      0       0     0     0       0     0     37     0         0 1.023515 0.000000
user_io:69012.280MB total_ios: 392044.786MB WriteAmplification: 5.6808
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2024-11-21 00:16:07 ... thread 0: (100000000,599999999) ops and (18938.2,20048.1) ops/second in (5280.345044,29928.088300) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3       2    3733        0        0     82816     82816      0   12723 104088     0       0     0      0 12723         0 0.000000 0.000000
    1    30      20   15174   326540   326540    255343    255343      0   13121 13901     0       0     0 372214 13121       109 0.000000 0.000306
    2   276     200    4801   107206   107206    101868    101868      0    6041  6489     0       0     0 135582  6041       458 0.000306 0.570356
    3  2017    1914    1029    33494    33494     31681     31681      0      10    10     0       0     0  30220    10      2364 0.570356 1.021091
    4  2374    2334       3       56       56        56        56      0       0     0     0       0     0     46     0         0 1.021091 0.000000
user_io:82815.972MB total_ios: 471765.304MB WriteAmplification: 5.6965
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2024-11-21 02:19:21 ... thread 0: (100000000,699999999) ops and (13524.3,18755.6) ops/second in (7394.070839,37322.159139) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2    4664        0        0     96618     96618      0   14797 121438     0       0     0      0 14797         0 0.000000 0.000000
    1    28      20   18623   380520   380520    297449    297449      0   15293 16199     0       0     0 433737 15293       133 0.000000 0.000308
    2   307     199    5945   124897   124897    118672    118672      0    7265  7769     0       0     0 160034  7265       461 0.000308 0.103071
    3  2062    1942    1362    40871    40871     38593     38593      0      12    12     0       0     0  37176    12      2923 0.103071 1.022091
    4  2935    2882       3       63       63        63        63      0       0     0     0       0     0     51     0         0 1.022091 0.000000
user_io:96618.089MB total_ios: 551395.835MB WriteAmplification: 5.7070
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2024-11-21 04:33:49 ... thread 0: (100000000,799999999) ops and (12393.9,17624.8) ops/second in (8068.459199,45390.618338) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3    5658        0        0    110422    110422      0   16854 138786     0       0     0      0 16854         0 0.000000 0.000000
    1    31      21   22392   434561   434561    339611    339611      0   17468 18502     0       0     0 495465 17468       150 0.000000 1.023342
    2   327     199    7173   142497   142497    135382    135382      0    8305  8955     0       0     0 183821  8305       596 1.023342 1.022511
    3  2114    1998    1727    47421    47421     44814     44814      0     449   450     0       0     0  43511   449      3151 1.022511 0.000306
    4  3231    3184      44     1213     1213       868       868      0       0     0     0       0     0    987     0         0 0.000306 0.000000
user_io:110421.818MB total_ios: 631096.514MB WriteAmplification: 5.7153
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2024-11-21 06:53:45 ... thread 0: (100000000,899999999) ops and (11909.9,16732.7) ops/second in (8396.377222,53786.995560) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2    6636        0        0    124224    124224      0   18904 156136     0       0     0      0 18904         0 0.000000 0.000000
    1    34      20   26157   488483   488483    381635    381635      0   19629 20784     0       0     0 557016 19629       169 0.000000 1.023212
    2   264     200    8500   160072   160072    152093    152093      0    9435 10181     0       0     0 208666  9435       596 1.023212 1.022511
    3  2128    1990    2242    54293    54293     51350     51350      0    1178  1180     0       0     0  50075  1178      3151 1.022511 0.000306
    4  3724    3707     123     3163     3163      2627      2627      0       0     0     0       0     0   2580     0         0 0.000306 0.000000
user_io:124223.944MB total_ios: 711930.060MB WriteAmplification: 5.7310
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2024-11-21 09:29:27 ... thread 0: (100000000,999999999) ops and (10705.3,15840.8) ops/second in (9341.129255,63128.124815) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    7734        0        0    138027    138027      0   20947 173487     0       0     0      0 20947         0 0.000000 0.000000
    1    26      20   30364   542374   542374    423633    423633      0   21798 23085     0       0     0 618717 21798       191 0.000000 0.000306
    2   296     193    9888   177606   177606    168742    168742      0   10578 11393     0       0     0 233417 10578       597 0.000306 0.345286
    3  2133    1943    2836    61564    61564     58254     58254      0    1908  1913     0       0     0  57159  1908      3151 0.345286 0.000306
    4  4371    4384     227     5165     5165      4593      4593      0       0     0     0       0     0   4218     0         0 0.000306 0.000000
user_io:138026.869MB total_ios: 793249.273MB WriteAmplification: 5.7471
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :      63.128 micros/op 15840 ops/sec;    2.2 MB/s
Microseconds per op:
Count: 1000000000  Average: 63.1281  StdDev: 1863.67
Percentiles: P50: 6.90 P75: 9.89 P99: 1160.03 P99.9: 3632.45 P99.99: 36975.88
------------------------------------------------------
[       2,       3 )       2   0.000%   0.000% 
[       3,       4 ) 5807788   0.581%   0.581% 
[       4,       5 ) 124163285  12.416%  12.997% ##
[       5,       6 ) 227920913  22.792%  35.789% #####
[       6,       7 ) 157718818  15.772%  51.561% ###
[       7,       8 ) 106652106  10.665%  62.226% ##
[       8,       9 ) 77622059   7.762%  69.988% ##
[       9,      10 ) 56546053   5.655%  75.643% #
[      10,      12 ) 74983001   7.498%  83.141% #
[      12,      14 ) 47224567   4.722%  87.864% #
[      14,      16 ) 36473607   3.647%  91.511% #
[      16,      18 ) 25285694   2.529%  94.040% #
[      18,      20 ) 14212149   1.421%  95.461% 
[      20,      25 ) 10295022   1.030%  96.491% 
[      25,      30 ) 2606848   0.261%  96.751% 
[      30,      35 )  924881   0.092%  96.844% 
[      35,      40 )  345032   0.035%  96.878% 
[      40,      45 )  128374   0.013%  96.891% 
[      45,      50 )   62935   0.006%  96.897% 
[      50,      60 )   67035   0.007%  96.904% 
[      60,      70 )   43850   0.004%  96.908% 
[      70,      80 )   35744   0.004%  96.912% 
[      80,      90 )   30450   0.003%  96.915% 
[      90,     100 )   25113   0.003%  96.918% 
[     100,     120 )   41033   0.004%  96.922% 
[     120,     140 )   30712   0.003%  96.925% 
[     140,     160 )   27858   0.003%  96.927% 
[     160,     180 )   24774   0.002%  96.930% 
[     180,     200 )   23278   0.002%  96.932% 
[     200,     250 )   54854   0.005%  96.938% 
[     250,     300 )   54498   0.005%  96.943% 
[     300,     350 )   52581   0.005%  96.948% 
[     350,     400 )   49276   0.005%  96.953% 
[     400,     450 )   44761   0.004%  96.958% 
[     450,     500 )   41015   0.004%  96.962% 
[     500,     600 )   70864   0.007%  96.969% 
[     600,     700 )   51288   0.005%  96.974% 
[     700,     800 )   44082   0.004%  96.979% 
[     800,     900 )   45853   0.005%  96.983% 
[     900,    1000 )   40400   0.004%  96.987% 
[    1000,    1200 ) 25154271   2.515%  99.503% #
[    1200,    1400 ) 1870901   0.187%  99.690% 
[    1400,    1600 )  417043   0.042%  99.731% 
[    1600,    1800 )  280726   0.028%  99.760% 
[    1800,    2000 )  252030   0.025%  99.785% 
[    2000,    2500 )  446927   0.045%  99.829% 
[    2500,    3000 )  382535   0.038%  99.868% 
[    3000,    3500 )  270252   0.027%  99.895% 
[    3500,    4000 )  199551   0.020%  99.915% 
[    4000,    4500 )  134863   0.013%  99.928% 
[    4500,    5000 )   91403   0.009%  99.937% 
[    5000,    6000 )  113339   0.011%  99.949% 
[    6000,    7000 )   64072   0.006%  99.955% 
[    7000,    8000 )   40171   0.004%  99.959% 
[    8000,    9000 )   28317   0.003%  99.962% 
[    9000,   10000 )   22242   0.002%  99.964% 
[   10000,   12000 )   35389   0.004%  99.968% 
[   12000,   14000 )   33354   0.003%  99.971% 
[   14000,   16000 )   27022   0.003%  99.974% 
[   16000,   18000 )   30474   0.003%  99.977% 
[   18000,   20000 )   33388   0.003%  99.980% 
[   20000,   25000 )   59390   0.006%  99.986% 
[   25000,   30000 )   24947   0.002%  99.989% 
[   30000,   35000 )   11057   0.001%  99.990% 
[   35000,   40000 )    9826   0.001%  99.991% 
[   40000,   45000 )    6246   0.001%  99.991% 
[   45000,   50000 )    3181   0.000%  99.992% 
[   50000,   60000 )    3801   0.000%  99.992% 
[   60000,   70000 )    4059   0.000%  99.992% 
[   70000,   80000 )   47303   0.005%  99.997% 
[   80000,   90000 )    2327   0.000%  99.997% 
[   90000,  100000 )    1586   0.000%  99.997% 
[  100000,  120000 )    1959   0.000%  99.998% 
[  120000,  140000 )    1820   0.000%  99.998% 
[  140000,  160000 )    1660   0.000%  99.998% 
[  160000,  180000 )    1187   0.000%  99.998% 
[  180000,  200000 )    1114   0.000%  99.998% 
[  200000,  250000 )    3302   0.000%  99.999% 
[  250000,  300000 )    3783   0.000%  99.999% 
[  300000,  350000 )    3291   0.000%  99.999% 
[  350000,  400000 )    2625   0.000% 100.000% 
[  400000,  450000 )    1679   0.000% 100.000% 
[  450000,  500000 )     980   0.000% 100.000% 
[  500000,  600000 )    1008   0.000% 100.000% 
[  600000,  700000 )     480   0.000% 100.000% 
[  700000,  800000 )     269   0.000% 100.000% 
[  800000,  900000 )     148   0.000% 100.000% 
[  900000, 1000000 )      83   0.000% 100.000% 
[ 1000000, 1200000 )      89   0.000% 100.000% 
[ 1200000, 1400000 )      41   0.000% 100.000% 
[ 1400000, 1600000 )      16   0.000% 100.000% 
[ 1600000, 1800000 )       9   0.000% 100.000% 
[ 1800000, 2000000 )       4   0.000% 100.000% 
[ 2000000, 2500000 )       4   0.000% 100.000% 
[ 2500000, 3000000 )       2   0.000% 100.000% 
[ 3000000, 3500000 )       1   0.000% 100.000% 


                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        0        0      7734        0    138027
  1       26       20     30364   542374    423633
  2      296      193      9888   177606    168742
  3     2133     1943      2836    61564     58254
  4     4371     4384       227     5165      4593
user_io:138026.869MB total_ios: 793249.273MB WriteAmplification: 5.7471

