../../../leveldb/release/db_bench --db=/mnt/hotdb_test/level10B/YCSBa_mem1_1.2_iterator6 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/home/jeff-wang/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/WorkloadAnalysis/comparedDBs/performance_test_scripts/leveldb_scripts/10B_leveldb_zipf_hot_removal/leveldb_memory_usage1MB_10B_key16_val128.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=1048576 --max_file_size=1048576 --print_wa=true 
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
WARNING: Snappy compression is not enabled
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path: 
  data_file_path: /home/jeff-wang/workloads/zipf1.2_keys10.0B.csv
  percentages: 
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2024-11-20 10:46:34 ... thread 0: (99999999,99999999) ops and (23577.2,23577.2) ops/second in (4241.383910,4241.383910) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3     620        0        0     13801     13801      0    2119 17342     0       0     0      0  2119         0 0.000000 0.000000
    1    29      21    2266    52823    52823     41024     41024      0    2180  2340     0       0     0  58467  2180        21 0.000000 0.000307
    2   222     197     664    17767    17767     16864     16864      0     580   600     0       0     0  17671   580       285 0.000307 0.000306
    3   718     724      53     1885     1885      1732      1732      0       0     0     0       0     0   1511     0         0 0.000306 0.000000
user_io:13800.556MB total_ios: 73420.653MB WriteAmplification: 5.3201
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2024-11-20 12:03:31 ... thread 0: (100000000,199999999) ops and (21656.8,22576.2) ops/second in (4617.487835,8858.871745) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    1218        0        0     27603     27603      0    4232 34695     0       0     0      0  4232         0 0.000000 0.000000
    1    29      20    4688   107809   107809     84116     84116      0    4345  4644     0       0     0 121586  4345        39 0.000000 1.020047
    2   253     196    1405    35529    35529     33752     33752      0    1650  1744     0       0     0  38229  1650       286 1.020047 0.000306
    3  1420    1400     191     6628     6628      6112      6112      0       0     0     0       0     0   5547     0         0 0.000306 0.000000
user_io:27603.491MB total_ios: 151583.064MB WriteAmplification: 5.4914
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2024-11-20 13:26:17 ... thread 0: (100000000,299999999) ops and (20137.6,21700.3) ops/second in (4965.840895,13824.712640) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     9       7    1818        0        0     41407     41407      0    6352 52045     0       0     0      0  6352         0 0.000000 0.000000
    1    30      17    7222   162822   162822    127248    127248      0    6536  6966     0       0     0 184876  6536        60 0.000000 1.021443
    2   252     178    2235    53489    53489     50829     50829      0    2698  2860     0       0     0  62091  2698       398 1.021443 1.021523
    3  1830    1791     384    12875    12875     12063     12063      0       0     0     0       0     0  11139     0       372 1.021523 1.023304
    4   372     368       0        0        0         0         0      0       0     0     0       0     0      0     0         0 1.023304 0.000000
user_io:41407.217MB total_ios: 231548.190MB WriteAmplification: 5.5920
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2024-11-20 14:55:31 ... thread 0: (100000000,399999999) ops and (18677.5,20856.4) ops/second in (5354.030931,19178.743571) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    2463        0        0     55209     55209      0    8467 69393     0       0     0      0  8467         0 0.000000 0.000000
    1    28      22    9874   217268   217268    169824    169824      0    8716  9262     0       0     0 247139  8716        79 0.000000 1.021194
    2   294     188    3104    71266    71266     67700     67700      0    3810  4101     0       0     0  86259  3810       465 1.021194 0.030835
    3  1901    1857     624    19748    19748     18678     18678      0       3     3     0       0     0  17480     3      1077 0.030835 1.020646
    4  1080    1062       0       16       16        16        16      0       0     0     0       0     0     13     0         0 1.020646 0.000000
user_io:55209.334MB total_ios: 311426.498MB WriteAmplification: 5.6408
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2024-11-20 16:26:52 ... thread 0: (100000000,499999999) ops and (18245.3,20276.1) ops/second in (5480.857163,24659.600734) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6       5    3103        0        0     69012     69012      0   10587 86736     0       0     0      0 10587         0 0.000000 0.000000
    1    33      20   12604   271727   271727    212405    212405      0   10897 11559     0       0     0 309447 10897        92 0.000000 1.020864
    2   315     192    3978    89158    89158     84699     84699      0    4892  5244     0       0     0 110650  4892       467 1.020864 0.590981
    3  1983    1916     854    26738    26738     25347     25347      0       7     8     0       0     0  23931     7      1729 0.590981 1.019670
    4  1736    1708       1       39       39        39        39      0       0     0     0       0     0     34     0         0 1.019670 0.000000
user_io:69012.280MB total_ios: 391502.728MB WriteAmplification: 5.6729
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2024-11-20 18:00:01 ... thread 0: (100000000,599999999) ops and (17891.8,19835.5) ops/second in (5589.138324,30248.739058) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1       1    3770        0        0     82815     82815      0   12705 104090     0       0     0      0 12705         0 0.000000 0.000000
    1    33      20   15345   325598   325598    254390    254390      0   13054 13843     0       0     0 370863 13054       114 0.000000 1.021371
    2   264     200    4845   106678   106678    101343    101343      0    6028  6450     0       0     0 134544  6028       469 1.021371 0.376948
    3  1967    1866    1063    33469    33469     31669     31669      0      12    13     0       0     0  30235    12      2418 0.376948 1.022934
    4  2431    2387       2       60       60        60        60      0       0     0     0       0     0     50     0         0 1.022934 0.000000
user_io:82815.176MB total_ios: 470277.974MB WriteAmplification: 5.6786
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2024-11-20 19:30:33 ... thread 0: (100000000,699999999) ops and (18409.0,19618.4) ops/second in (5432.123693,35680.862751) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     8       6    4400        0        0     96619     96619      0   14827 121441     0       0     0      0 14827         0 0.000000 0.000000
    1    32      20   18004   379747   379747    296659    296659      0   15204 16117     0       0     0 432691 15204       140 0.000000 1.021164
    2   300     200    5660   124238   124238    118026    118026      0    7245  7728     0       0     0 158622  7245       469 1.021164 0.376948
    3  2021    1910    1294    40542    40542     38288     38288      0      13    14     0       0     0  36952    13      2971 0.376948 1.019655
    4  2985    2928       3       66       66        66        66      0       0     0     0       0     0     55     0         0 1.019655 0.000000
user_io:96618.884MB total_ios: 549657.752MB WriteAmplification: 5.6889
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2024-11-20 21:01:44 ... thread 0: (100000000,799999999) ops and (18279.4,19440.4) ops/second in (5470.652109,41151.514860) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3    5017        0        0    110422    110422      0   16953 138786     0       0     0      0 16953         0 0.000000 0.000000
    1    35      21   20646   434232   434232    339260    339260      0   17352 18404     0       0     0 495023 17352       162 0.000000 1.020509
    2   323     197    6482   141823   141823    134733    134733      0    8284  8921     0       0     0 182772  8284       598 1.020509 1.022524
    3  2098    1985    1503    47293    47293     44738     44738      0     577   578     0       0     0  43384   577      3091 1.022524 0.000306
    4  3239    3195      37     1599     1599      1195      1195      0       0     0     0       0     0   1301     0         0 0.000306 0.000000
user_io:110421.818MB total_ios: 630348.258MB WriteAmplification: 5.7085
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2024-11-20 22:33:35 ... thread 0: (100000000,899999999) ops and (18146.7,19287.6) ops/second in (5510.644780,46662.159640) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7       6    5626        0        0    124225    124225      0   19076 156132     0       0     0      0 19076         0 0.000000 0.000000
    1    34      20   23249   489193   489193    382335    382335      0   19531 20707     0       0     0 558262 19531       178 0.000000 1.023812
    2   273     198    7336   159611   159611    151649    151649      0    9404 10119     0       0     0 207275  9404       598 1.023812 1.022524
    3  2168    1983    1709    54007    54007     51110     51110      0    1300  1301     0       0     0  49802  1300      3091 1.022524 0.000306
    4  3767    3757      89     3530     3530      2987      2987      0       0     0     0       0     0   2882     0         0 0.000306 0.000000
user_io:124224.740MB total_ios: 712305.163MB WriteAmplification: 5.7340
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2024-11-21 00:11:26 ... thread 0: (100000000,999999999) ops and (17031.1,19035.4) ops/second in (5871.606299,52533.765939) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2    6289        0        0    138028    138028      0   21193 173485     0       0     0      0 21193         0 0.000000 0.000000
    1    33      21   26015   544116   544116    425364    425364      0   21714 23015     0       0     0 621417 21714       198 0.000000 1.020594
    2   281     197    8200   177368   177368    168534    168534      0   10549 11336     0       0     0 232283 10549       599 1.020594 0.196644
    3  2153    1977    1949    61229    61229     57926     57926      0    1955  1962     0       0     0  56844  1955      3091 0.196644 0.000306
    4  4355    4376     139     5303     5303      4737      4737      0       0     0     0       0     0   4287     0         0 0.000306 0.000000
user_io:138027.665MB total_ios: 794589.494MB WriteAmplification: 5.7567
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :      52.534 micros/op 19035 ops/sec;    2.6 MB/s
Microseconds per op:
Count: 1000000000  Average: 52.5338  StdDev: 1561.70
Percentiles: P50: 6.78 P75: 9.49 P99: 1148.92 P99.9: 3224.52 P99.99: 23640.82
------------------------------------------------------
[       3,       4 ) 4510426   0.451%   0.451% 
[       4,       5 ) 126600681  12.660%  13.111% ###
[       5,       6 ) 240189906  24.019%  37.130% #####
[       6,       7 ) 164858733  16.486%  53.616% ###
[       7,       8 ) 108250621  10.825%  64.441% ##
[       8,       9 ) 78134579   7.813%  72.254% ##
[       9,      10 ) 55908273   5.591%  77.845% #
[      10,      12 ) 71518098   7.152%  84.997% #
[      12,      14 ) 42100892   4.210%  89.207% #
[      14,      16 ) 32225936   3.223%  92.430% #
[      16,      18 ) 22419984   2.242%  94.672% 
[      18,      20 ) 13260128   1.326%  95.998% 
[      20,      25 ) 9623590   0.962%  96.960% 
[      25,      30 ) 2396503   0.240%  97.200% 
[      30,      35 )  890272   0.089%  97.289% 
[      35,      40 )  342779   0.034%  97.323% 
[      40,      45 )  125485   0.013%  97.336% 
[      45,      50 )   60685   0.006%  97.342% 
[      50,      60 )   69626   0.007%  97.349% 
[      60,      70 )   45457   0.005%  97.353% 
[      70,      80 )   40178   0.004%  97.357% 
[      80,      90 )   35321   0.004%  97.361% 
[      90,     100 )   27936   0.003%  97.364% 
[     100,     120 )   43250   0.004%  97.368% 
[     120,     140 )   32978   0.003%  97.371% 
[     140,     160 )   30035   0.003%  97.374% 
[     160,     180 )   27424   0.003%  97.377% 
[     180,     200 )   25954   0.003%  97.380% 
[     200,     250 )   61818   0.006%  97.386% 
[     250,     300 )   60386   0.006%  97.392% 
[     300,     350 )   58579   0.006%  97.398% 
[     350,     400 )   56758   0.006%  97.403% 
[     400,     450 )   53856   0.005%  97.409% 
[     450,     500 )   46375   0.005%  97.413% 
[     500,     600 )   72826   0.007%  97.421% 
[     600,     700 )   51853   0.005%  97.426% 
[     700,     800 )   47609   0.005%  97.431% 
[     800,     900 )   51259   0.005%  97.436% 
[     900,    1000 )   45583   0.005%  97.440% 
[    1000,    1200 ) 20947061   2.095%  99.535% 
[    1200,    1400 ) 1707519   0.171%  99.706% 
[    1400,    1600 )  423692   0.042%  99.748% 
[    1600,    1800 )  284001   0.028%  99.776% 
[    1800,    2000 )  255018   0.026%  99.802% 
[    2000,    2500 )  466538   0.047%  99.849% 
[    2500,    3000 )  394701   0.039%  99.888% 
[    3000,    3500 )  264649   0.026%  99.915% 
[    3500,    4000 )  183179   0.018%  99.933% 
[    4000,    4500 )  116208   0.012%  99.945% 
[    4500,    5000 )   74071   0.007%  99.952% 
[    5000,    6000 )   83092   0.008%  99.960% 
[    6000,    7000 )   40497   0.004%  99.964% 
[    7000,    8000 )   23377   0.002%  99.967% 
[    8000,    9000 )   17287   0.002%  99.968% 
[    9000,   10000 )   15612   0.002%  99.970% 
[   10000,   12000 )   29601   0.003%  99.973% 
[   12000,   14000 )   33690   0.003%  99.976% 
[   14000,   16000 )   32355   0.003%  99.979% 
[   16000,   18000 )   35206   0.004%  99.983% 
[   18000,   20000 )   32740   0.003%  99.986% 
[   20000,   25000 )   51189   0.005%  99.991% 
[   25000,   30000 )   18743   0.002%  99.993% 
[   30000,   35000 )    7586   0.001%  99.994% 
[   35000,   40000 )    6522   0.001%  99.995% 
[   40000,   45000 )    3565   0.000%  99.995% 
[   45000,   50000 )    1638   0.000%  99.995% 
[   50000,   60000 )    1635   0.000%  99.995% 
[   60000,   70000 )    2067   0.000%  99.996% 
[   70000,   80000 )   25758   0.003%  99.998% 
[   80000,   90000 )     870   0.000%  99.998% 
[   90000,  100000 )     520   0.000%  99.998% 
[  100000,  120000 )     696   0.000%  99.998% 
[  120000,  140000 )     661   0.000%  99.998% 
[  140000,  160000 )     653   0.000%  99.998% 
[  160000,  180000 )     535   0.000%  99.999% 
[  180000,  200000 )     774   0.000%  99.999% 
[  200000,  250000 )    2200   0.000%  99.999% 
[  250000,  300000 )    3635   0.000%  99.999% 
[  300000,  350000 )    3089   0.000% 100.000% 
[  350000,  400000 )    1974   0.000% 100.000% 
[  400000,  450000 )    1179   0.000% 100.000% 
[  450000,  500000 )     529   0.000% 100.000% 
[  500000,  600000 )     543   0.000% 100.000% 
[  600000,  700000 )     224   0.000% 100.000% 
[  700000,  800000 )     159   0.000% 100.000% 
[  800000,  900000 )     104   0.000% 100.000% 
[  900000, 1000000 )      84   0.000% 100.000% 
[ 1000000, 1200000 )      87   0.000% 100.000% 
[ 1200000, 1400000 )      26   0.000% 100.000% 
[ 1400000, 1600000 )       8   0.000% 100.000% 
[ 1600000, 1800000 )      11   0.000% 100.000% 
[ 1800000, 2000000 )       7   0.000% 100.000% 
[ 2000000, 2500000 )       2   0.000% 100.000% 
[ 2500000, 3000000 )       1   0.000% 100.000% 


                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        2        2      6289        0    138028
  1       33       21     26015   544116    425364
  2      281      197      8200   177368    168534
  3     2153     1977      1949    61229     57926
  4     4355     4376       139     5303      4737
user_io:138027.665MB total_ios: 794589.494MB WriteAmplification: 5.7567

