../../../leveldb/release/db_bench --db=/mnt/hotdb_test/level10B/YCSBa_mem1_1.2_iterator8 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/home/jeff-wang/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/WorkloadAnalysis/comparedDBs/performance_test_scripts/leveldb_scripts/10B_leveldb_zipf_hot_removal/leveldb_memory_usage1MB_10B_key16_val128.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=1048576 --max_file_size=1048576 --print_wa=true 
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
WARNING: Snappy compression is not enabled
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path: 
  data_file_path: /home/jeff-wang/workloads/zipf1.2_keys10.0B.csv
  percentages: 
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2024-11-19 20:07:31 ... thread 0: (99999999,99999999) ops and (35609.0,35609.0) ops/second in (2808.280193,2808.280193) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2     400        0        0     13801     13801      0    2206 17344     0       0     0      0  2206         0 0.000000 0.000000
    1    28      19    1534    51553    51553     39787     39787      0    2229  2374     0       0     0  57067  2229        15 0.000000 0.000308
    2   227     194     461    18160    18160     17234     17234      0     619   652     0       0     0  18105   619       250 0.000308 0.777829
    3   744     746      43     2090     2090      1943      1943      0       0     0     0       0     0   1661     0         0 0.777829 0.000000
user_io:13800.556MB total_ios: 72764.870MB WriteAmplification: 5.2726
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2024-11-19 21:08:08 ... thread 0: (100000000,199999999) ops and (27490.3,31027.4) ops/second in (3637.641754,6445.921947) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3       2     883        0        0     27603     27603      0    4330 34692     0       0     0      0  4330         0 0.000000 0.000000
    1    28      21    3420   106465   106465     82817     82817      0    4398  4680     0       0     0 119940  4398        32 0.000000 0.000306
    2   269     199    1025    36007    36007     34201     34201      0    1681  1790     0       0     0  38725  1681       250 0.000306 0.777829
    3  1438    1420     236     6916     6916      6407      6407      0       0     0     0       0     0   5759     0         0 0.777829 0.000000
user_io:27603.491MB total_ios: 151029.258MB WriteAmplification: 5.4714
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2024-11-19 22:14:13 ... thread 0: (100000000,299999999) ops and (25220.1,28815.6) ops/second in (3965.097687,10411.019634) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6       5    1372        0        0     41406     41406      0    6456 52038     0       0     0      0  6456         0 0.000000 0.000000
    1    29      20    5437   160673   160673    125168    125168      0    6574  6995     0       0     0 181903  6574        56 0.000000 1.020635
    2   270     197    1634    53813    53813     51101     51101      0    2673  2856     0       0     0  61766  2673       399 1.020635 0.486178
    3  1766    1724     511    12925    12925     12129     12129      0       1     1     0       0     0  11176     1       455 0.486178 1.023820
    4   456     448       0        2        2         2         2      0       0     0     0       0     0      1     0         0 1.023820 0.000000
user_io:41406.422MB total_ios: 229806.867MB WriteAmplification: 5.5500
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2024-11-19 23:28:48 ... thread 0: (100000000,399999999) ops and (22350.4,26872.3) ops/second in (4474.188626,14885.208260) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2    1908        0        0     55209     55209      0    8575 69391     0       0     0      0  8575         0 0.000000 0.000000
    1    26      18    7648   214662   214662    167286    167286      0    8754  9302     0       0     0 243434  8754        77 0.000000 0.000306
    2   241     175    2342    71618    71618     68016     68016      0    3873  4175     0       0     0  86224  3873       420 0.000306 0.009404
    3  1795    1751     801    19811    19811     18712     18712      0       4     4     0       0     0  17508     4      1200 0.009404 1.022324
    4  1204    1185       0       13       13        13        13      0       0     0     0       0     0     10     0         0 1.022324 0.000000
user_io:55209.334MB total_ios: 309236.147MB WriteAmplification: 5.6012
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2024-11-20 01:03:27 ... thread 0: (100000000,499999999) ops and (17608.4,24314.0) ops/second in (5679.097933,20564.306193) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1       1    2591        0        0     69012     69012      0   10673 86741     0       0     0      0 10673         0 0.000000 0.000000
    1    35      20   10387   268632   268632    209380    209380      0   10925 11597     0       0     0 304897 10925        99 0.000000 0.000307
    2   303     199    3199    89376    89376     84891     84891      0    4957  5309     0       0     0 110475  4957       422 0.000307 0.218788
    3  2027    1959    1203    26708    26708     25226     25226      0       8     8     0       0     0  23833     8      1632 0.218788 1.023110
    4  1640    1613       3       44       44        44        44      0       0     0     0       0     0     36     0         0 1.023110 0.000000
user_io:69012.280MB total_ios: 388552.152MB WriteAmplification: 5.6302
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2024-11-20 02:50:54 ... thread 0: (100000000,599999999) ops and (15511.3,22213.0) ops/second in (6446.897954,27011.204147) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3       2    3353        0        0     82816     82816      0   12767 104088     0       0     0      0 12767         0 0.000000 0.000000
    1    33      20   13483   322796   322796    251660    251660      0   13117 13901     0       0     0 366864 13117       120 0.000000 0.000306
    2   294     190    4186   107245   107245    101877    101877      0    6108  6527     0       0     0 135034  6108       425 0.000306 0.150693
    3  1861    1757    1565    33653    33653     31759     31759      0      11    11     0       0     0  30296    11      2483 0.150693 1.021100
    4  2494    2448       3       55       55        55        55      0       0     0     0       0     0     44     0         0 1.021100 0.000000
user_io:82815.972MB total_ios: 468167.506MB WriteAmplification: 5.6531
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2024-11-20 04:24:43 ... thread 0: (100000000,699999999) ops and (17764.4,21445.8) ops/second in (5629.244294,32640.448441) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3       2    4031        0        0     96618     96618      0   14887 121437     0       0     0      0 14887         0 0.000000 0.000000
    1    27      19   16168   376570   376570    293559    293559      0   15278 16200     0       0     0 428061 15278       146 0.000000 0.000307
    2   236     178    5044   124916   124916    118657    118657      0    7338  7811     0       0     0 158957  7338       427 0.000307 0.195466
    3  1897    1762    1776    40636    40636     38296     38296      0      63    63     0       0     0  36923    63      3043 0.195466 0.005323
    4  3056    2995       9      175      175       124       124      0       0     0     0       0     0    121     0         0 0.005323 0.000000
user_io:96618.089MB total_ios: 547254.771MB WriteAmplification: 5.6641
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2024-11-20 06:14:54 ... thread 0: (100000000,799999999) ops and (15126.7,20381.5) ops/second in (6610.840152,39251.288593) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1       1    4810        0        0    110422    110422      0   16975 138788     0       0     0      0 16975         0 0.000000 0.000000
    1    26      21   19243   430873   430873    335972    335972      0   17456 18500     0       0     0 490230 17456       165 0.000000 1.023842
    2   297     196    6054   142597   142597    135451    135451      0    8341  8966     0       0     0 183656  8341       559 1.023842 1.022613
    3  2064    1958    2109    47525    47525     44931     44931      0     633   634     0       0     0  43587   633      3043 1.022613 0.005323
    4  3228    3188      77     1757     1757      1340      1340      0       0     0     0       0     0   1442     0         0 0.005323 0.000000
user_io:110421.818MB total_ios: 628115.317MB WriteAmplification: 5.6883
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2024-11-20 07:56:53 ... thread 0: (100000000,899999999) ops and (16340.3,19836.4) ops/second in (6119.821843,45371.110436) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    5514        0        0    124225    124225      0   19074 156138     0       0     0      0 19074         0 0.000000 0.000000
    1    31      20   22137   485385   485385    378587    378587      0   19623 20814     0       0     0 552702 19623       179 0.000000 0.000306
    2   326     198    6926   160262   160262    152241    152241      0    9473 10170     0       0     0 208029  9473       561 0.000306 0.411773
    3  2152    1979    2351    54690    54690     51797     51797      0    1365  1368     0       0     0  50415  1365      3043 0.411773 0.005323
    4  3789    3775     167     3711     3711      3169      3169      0       0     0     0       0     0   3025     0         0 0.005323 0.000000
user_io:124224.740MB total_ios: 710019.145MB WriteAmplification: 5.7156
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2024-11-20 09:30:31 ... thread 0: (100000000,999999999) ops and (17801.1,19612.2) ops/second in (5617.624171,50988.734607) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    6150        0        0    138028    138028      0   21183 173488     0       0     0      0 21183         0 0.000000 0.000000
    1    34      21   24736   540091   540091    421398    421398      0   21783 23111     0       0     0 615518 21783       200 0.000000 0.000307
    2   263     198    7753   177982   177982    169095    169095      0   10614 11372     0       0     0 232802 10614       561 0.000307 0.411773
    3  2160    1987    2564    61478    61478     58188     58188      0    2014  2019     0       0     0  57044  2014      3043 0.411773 0.005323
    4  4373    4391     243     5457     5457      4896      4896      0       0     0     0       0     0   4453     0         0 0.005323 0.000000
user_io:138027.665MB total_ios: 791604.183MB WriteAmplification: 5.7351
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :      50.989 micros/op 19612 ops/sec;    2.7 MB/s
Microseconds per op:
Count: 1000000000  Average: 50.9887  StdDev: 1461.50
Percentiles: P50: 6.59 P75: 9.28 P99: 1140.42 P99.9: 2882.27 P99.99: 25178.51
------------------------------------------------------
[       2,       3 )       3   0.000%   0.000% 
[       3,       4 ) 7843200   0.784%   0.784% 
[       4,       5 ) 149865802  14.987%  15.771% ###
[       5,       6 ) 250116415  25.012%  40.783% #####
[       6,       7 ) 155956747  15.596%  56.378% ###
[       7,       8 ) 99366435   9.937%  66.315% ##
[       8,       9 ) 72236295   7.224%  73.538% #
[       9,      10 ) 51967824   5.197%  78.735% #
[      10,      12 ) 67288349   6.729%  85.464% #
[      12,      14 ) 40752800   4.075%  89.539% #
[      14,      16 ) 30874659   3.087%  92.627% #
[      16,      18 ) 21349031   2.135%  94.762% 
[      18,      20 ) 12306772   1.231%  95.992% 
[      20,      25 ) 9962385   0.996%  96.989% 
[      25,      30 ) 2900656   0.290%  97.279% 
[      30,      35 ) 1087552   0.109%  97.387% 
[      35,      40 )  413495   0.041%  97.429% 
[      40,      45 )  160377   0.016%  97.445% 
[      45,      50 )   78458   0.008%  97.453% 
[      50,      60 )   83640   0.008%  97.461% 
[      60,      70 )   51624   0.005%  97.466% 
[      70,      80 )   43172   0.004%  97.471% 
[      80,      90 )   34252   0.003%  97.474% 
[      90,     100 )   28092   0.003%  97.477% 
[     100,     120 )   45623   0.005%  97.481% 
[     120,     140 )   36287   0.004%  97.485% 
[     140,     160 )   31191   0.003%  97.488% 
[     160,     180 )   27525   0.003%  97.491% 
[     180,     200 )   25160   0.003%  97.493% 
[     200,     250 )   59400   0.006%  97.499% 
[     250,     300 )   51636   0.005%  97.504% 
[     300,     350 )   47037   0.005%  97.509% 
[     350,     400 )   46029   0.005%  97.514% 
[     400,     450 )   46269   0.005%  97.518% 
[     450,     500 )   42234   0.004%  97.523% 
[     500,     600 )   76368   0.008%  97.530% 
[     600,     700 )   58953   0.006%  97.536% 
[     700,     800 )   48637   0.005%  97.541% 
[     800,     900 )   46845   0.005%  97.546% 
[     900,    1000 )   40986   0.004%  97.550% 
[    1000,    1200 ) 20655462   2.066%  99.615% 
[    1200,    1400 ) 1392548   0.139%  99.755% 
[    1400,    1600 )  343451   0.034%  99.789% 
[    1600,    1800 )  259912   0.026%  99.815% 
[    1800,    2000 )  221230   0.022%  99.837% 
[    2000,    2500 )  395508   0.040%  99.877% 
[    2500,    3000 )  305640   0.031%  99.907% 
[    3000,    3500 )  197219   0.020%  99.927% 
[    3500,    4000 )  134286   0.013%  99.940% 
[    4000,    4500 )   85280   0.009%  99.949% 
[    4500,    5000 )   56794   0.006%  99.955% 
[    5000,    6000 )   67348   0.007%  99.961% 
[    6000,    7000 )   35784   0.004%  99.965% 
[    7000,    8000 )   21797   0.002%  99.967% 
[    8000,    9000 )   17135   0.002%  99.969% 
[    9000,   10000 )   14245   0.001%  99.970% 
[   10000,   12000 )   26550   0.003%  99.973% 
[   12000,   14000 )   29287   0.003%  99.976% 
[   14000,   16000 )   33517   0.003%  99.979% 
[   16000,   18000 )   34823   0.003%  99.983% 
[   18000,   20000 )   31090   0.003%  99.986% 
[   20000,   25000 )   42353   0.004%  99.990% 
[   25000,   30000 )   14733   0.001%  99.991% 
[   30000,   35000 )    5683   0.001%  99.992% 
[   35000,   40000 )    4692   0.000%  99.992% 
[   40000,   45000 )    3014   0.000%  99.993% 
[   45000,   50000 )    1746   0.000%  99.993% 
[   50000,   60000 )    2914   0.000%  99.993% 
[   60000,   70000 )    4980   0.000%  99.994% 
[   70000,   80000 )   39946   0.004%  99.998% 
[   80000,   90000 )    2210   0.000%  99.998% 
[   90000,  100000 )    1234   0.000%  99.998% 
[  100000,  120000 )    1522   0.000%  99.998% 
[  120000,  140000 )    1387   0.000%  99.998% 
[  140000,  160000 )    1267   0.000%  99.998% 
[  160000,  180000 )    1075   0.000%  99.999% 
[  180000,  200000 )    1297   0.000%  99.999% 
[  200000,  250000 )    2904   0.000%  99.999% 
[  250000,  300000 )    3465   0.000%  99.999% 
[  300000,  350000 )    2517   0.000% 100.000% 
[  350000,  400000 )    1616   0.000% 100.000% 
[  400000,  450000 )     865   0.000% 100.000% 
[  450000,  500000 )     502   0.000% 100.000% 
[  500000,  600000 )     515   0.000% 100.000% 
[  600000,  700000 )     208   0.000% 100.000% 
[  700000,  800000 )     107   0.000% 100.000% 
[  800000,  900000 )      58   0.000% 100.000% 
[  900000, 1000000 )      36   0.000% 100.000% 
[ 1000000, 1200000 )      21   0.000% 100.000% 
[ 1200000, 1400000 )       4   0.000% 100.000% 
[ 1400000, 1600000 )       7   0.000% 100.000% 
[ 1600000, 1800000 )       1   0.000% 100.000% 


                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        0        0      6150        0    138028
  1       34       21     24736   540091    421398
  2      263      198      7753   177982    169095
  3     2160     1987      2564    61478     58188
  4     4373     4391       243     5457      4896
user_io:138027.665MB total_ios: 791604.183MB WriteAmplification: 5.7351

