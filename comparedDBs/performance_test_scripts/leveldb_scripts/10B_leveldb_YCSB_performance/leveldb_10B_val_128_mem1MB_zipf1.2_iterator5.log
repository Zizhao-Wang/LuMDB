../../../leveldb/release/db_bench --db=/mnt/hotdb_test/level10B/YCSBa_mem1_1.2_iterator5 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/home/jeff-wang/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/WorkloadAnalysis/comparedDBs/performance_test_scripts/leveldb_scripts/10B_leveldb_zipf_hot_removal/leveldb_memory_usage1MB_10B_key16_val128.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=1048576 --max_file_size=1048576 --print_wa=true 
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
WARNING: Snappy compression is not enabled
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path: 
  data_file_path: /home/jeff-wang/workloads/zipf1.2_keys10.0B.csv
  percentages: 
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2024-11-19 20:07:05 ... thread 0: (99999999,99999999) ops and (35134.5,35134.5) ops/second in (2846.201507,2846.201507) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2     424        0        0     13801     13801      0    2200 17345     0       0     0      0  2200         0 0.000000 0.000000
    1    34      20    1531    51234    51234     39460     39460      0    2210  2363     0       0     0  56254  2210        16 0.000000 1.020370
    2   219     192     442    17899    17899     16973     16973      0     648   673     0       0     0  17825   648       219 1.020370 0.963043
    3   747     750      49     2130     2130      1992      1992      0       0     0     0       0     0   1709     0         0 0.963043 0.000000
user_io:13801.352MB total_ios: 72225.765MB WriteAmplification: 5.2332
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2024-11-19 21:08:05 ... thread 0: (100000000,199999999) ops and (27324.4,30741.2) ops/second in (3659.726081,6505.927588) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3     884        0        0     27603     27603      0    4326 34691     0       0     0      0  4326         0 0.000000 0.000000
    1    30      20    3484   106128   106128     82474     82474      0    4372  4661     0       0     0 119094  4372        36 0.000000 1.020998
    2   259     197     996    35681    35681     33880     33880      0    1720  1810     0       0     0  38371  1720       219 1.020998 0.963043
    3  1453    1429     255     6987     6987      6488      6488      0       0     0     0       0     0   5835     0         0 0.963043 0.000000
user_io:27603.491MB total_ios: 150445.483MB WriteAmplification: 5.4502
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2024-11-19 22:13:23 ... thread 0: (100000000,299999999) ops and (25522.6,28779.7) ops/second in (3918.095331,10424.022919) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7       6    1368        0        0     41406     41406      0    6447 52037     0       0     0      0  6447         0 0.000000 0.000000
    1    31      20    5439   160707   160707    125179    125179      0    6560  6971     0       0     0 181527  6560        56 0.000000 1.020152
    2   284     200    1623    53588    53588     50903     50903      0    2739  2891     0       0     0  61713  2739       346 1.020152 1.023229
    3  1848    1808     505    13028    13028     12225     12225      0       0     0     0       0     0  11270     0       362 1.023229 1.023318
    4   362     357       0        0        0         0         0      0       0     0     0       0     0      0     0         0 1.023318 0.000000
user_io:41406.422MB total_ios: 229713.351MB WriteAmplification: 5.5478
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2024-11-19 23:27:14 ... thread 0: (100000000,399999999) ops and (22567.5,26926.7) ops/second in (4431.145982,14855.168901) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7       6    1900        0        0     55209     55209      0    8565 69386     0       0     0      0  8565         0 0.000000 0.000000
    1    28      21    7623   215281   215281    167873    167873      0    8728  9262     0       0     0 243886  8728        80 0.000000 1.020182
    2   265     199    2311    71368    71368     67804     67804      0    3880  4179     0       0     0  86300  3880       415 1.020182 0.098067
    3  1989    1939     784    19711    19711     18617     18617      0       3     3     0       0     0  17440     3       990 0.098067 1.019781
    4   993     979       0       15       15        15        15      0       0     0     0       0     0     12     0         0 1.019781 0.000000
user_io:55209.334MB total_ios: 309518.623MB WriteAmplification: 5.6063
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2024-11-20 00:59:58 ... thread 0: (100000000,499999999) ops and (17974.6,24487.5) ops/second in (5563.394711,20418.563612) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1       1    2559        0        0     69012     69012      0   10661 86741     0       0     0      0 10661         0 0.000000 0.000000
    1    31      20   10259   269414   269414    210123    210123      0   10899 11570     0       0     0 305725 10899        99 0.000000 1.020297
    2   303     199    3179    89043    89043     84593     84593      0    4981  5336     0       0     0 110732  4981       419 1.020297 0.032258
    3  2011    1952    1196    26745    26745     25267     25267      0       6     6     0       0     0  23868     6      1641 0.032258 1.023047
    4  1647    1621       1       28       28        27        27      0       0     0     0       0     0     21     0         0 1.023047 0.000000
user_io:69012.280MB total_ios: 389022.308MB WriteAmplification: 5.6370
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2024-11-20 02:48:15 ... thread 0: (100000000,599999999) ops and (15390.3,22291.4) ops/second in (6497.592088,26916.155700) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3    3318        0        0     82815     82815      0   12751 104087     0       0     0      0 12751         0 0.000000 0.000000
    1    32      20   13403   323732   323732    252567    252567      0   13083 13884     0       0     0 367873 13083       119 0.000000 0.000308
    2   312     196    4160   106743   106743    101399    101399      0    6120  6535     0       0     0 135214  6120       421 0.000308 0.081742
    3  1958    1858    1559    33633    33633     31754     31754      0       9     9     0       0     0  30282     9      2386 0.081742 1.020864
    4  2395    2349       3       48       48        47        47      0       0     0     0       0     0     39     0         0 1.020864 0.000000
user_io:82815.176MB total_ios: 468581.823MB WriteAmplification: 5.6582
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2024-11-20 04:22:48 ... thread 0: (100000000,699999999) ops and (17629.7,21480.0) ops/second in (5672.254629,32588.410329) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3    3971        0        0     96618     96618      0   14868 121436     0       0     0      0 14868         0 0.000000 0.000000
    1    23      18   16154   378055   378055    295006    295006      0   15248 16173     0       0     0 430006 15248       137 0.000000 1.020753
    2   238     177    5007   124263   124263    118036    118036      0    7354  7812     0       0     0 159224  7354       423 1.020753 0.387301
    3  1893    1779    1787    40705    40705     38382     38382      0      26    26     0       0     0  36997    26      3078 0.387301 0.146940
    4  3089    3026       4       88       88        73        73      0       0     0     0       0     0     62     0         0 0.146940 0.000000
user_io:96618.089MB total_ios: 548115.236MB WriteAmplification: 5.6730
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2024-11-20 06:16:27 ... thread 0: (100000000,799999999) ops and (14663.3,20300.4) ops/second in (6819.732873,39408.143202) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     0       0    4756        0        0    110421    110421      0   16957 138789     0       0     0      0 16957         0 0.000000 0.000000
    1    35      21   19375   432252   432252    337303    337303      0   17413 18467     0       0     0 492087 17413       153 0.000000 1.020772
    2   314     199    6030   141902   141902    134793    134793      0    8370  8975     0       0     0 183484  8370       559 1.020772 1.022443
    3  2111    1985    2138    47691    47691     45126     45126      0     591   591     0       0     0  43777   591      3078 1.022443 0.146940
    4  3232    3189      71     1587     1587      1183      1183      0       0     0     0       0     0   1284     0         0 0.146940 0.000000
user_io:110421.022MB total_ios: 628825.873MB WriteAmplification: 5.6948
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2024-11-20 08:01:16 ... thread 0: (100000000,899999999) ops and (15900.5,19694.8) ops/second in (6289.111227,45697.254429) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5       4    5465        0        0    124224    124224      0   19056 156133     0       0     0      0 19056         0 0.000000 0.000000
    1    33      21   22365   486865   486865    380030    380030      0   19595 20762     0       0     0 554835 19595       174 0.000000 0.000306
    2   337     199    6962   159688   159688    151707    151707      0    9486 10177     0       0     0 208039  9486       560 0.000306 0.072885
    3  2153    1983    2372    54662    54662     51759     51759      0    1306  1306     0       0     0  50425  1306      3078 0.072885 0.146940
    4  3773    3759     157     3499     3499      2959      2959      0       0     0     0       0     0   2828     0         0 0.146940 0.000000
user_io:124223.944MB total_ios: 710679.868MB WriteAmplification: 5.7210
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2024-11-20 09:35:52 ... thread 0: (100000000,999999999) ops and (17618.8,19465.5) ops/second in (5675.754564,51373.008993) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3    6088        0        0    138028    138028      0   21169 173484     0       0     0      0 21169         0 0.000000 0.000000
    1    31      20   25020   541582   541582    422854    422854      0   21744 23047     0       0     0 617662 21744       195 0.000000 1.020343
    2   262     199    7790   177266   177266    168416    168416      0   10633 11391     0       0     0 232626 10633       562 1.020343 0.027712
    3  2134    1963    2590    61300    61300     57999     57999      0    1986  1988     0       0     0  56920  1986      3078 0.027712 0.146940
    4  4380    4400     242     5350     5350      4787      4787      0       0     0     0       0     0   4319     0         0 0.146940 0.000000
user_io:138027.665MB total_ios: 792084.130MB WriteAmplification: 5.7386
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :      51.373 micros/op 19465 ops/sec;    2.7 MB/s
Microseconds per op:
Count: 1000000000  Average: 51.3730  StdDev: 1468.08
Percentiles: P50: 6.54 P75: 9.02 P99: 1141.82 P99.9: 2894.72 P99.99: 25378.26
------------------------------------------------------
[       3,       4 ) 5002787   0.500%   0.500% 
[       4,       5 ) 143789322  14.379%  14.879% ###
[       5,       6 ) 262141405  26.214%  41.093% #####
[       6,       7 ) 165982934  16.598%  57.692% ###
[       7,       8 ) 100817690  10.082%  67.773% ##
[       8,       9 ) 71354689   7.135%  74.909% #
[       9,      10 ) 50138024   5.014%  79.923% #
[      10,      12 ) 63968817   6.397%  86.320% #
[      12,      14 ) 36913324   3.691%  90.011% #
[      14,      16 ) 28726247   2.873%  92.884% #
[      16,      18 ) 19941256   1.994%  94.878% 
[      18,      20 ) 12135114   1.214%  96.091% 
[      20,      25 ) 9433335   0.943%  97.034% 
[      25,      30 ) 2428222   0.243%  97.277% 
[      30,      35 )  885464   0.089%  97.366% 
[      35,      40 )  333846   0.033%  97.399% 
[      40,      45 )  129974   0.013%  97.412% 
[      45,      50 )   64207   0.006%  97.419% 
[      50,      60 )   76627   0.008%  97.426% 
[      60,      70 )   50626   0.005%  97.431% 
[      70,      80 )   45734   0.005%  97.436% 
[      80,      90 )   40165   0.004%  97.440% 
[      90,     100 )   29653   0.003%  97.443% 
[     100,     120 )   46270   0.005%  97.448% 
[     120,     140 )   35872   0.004%  97.451% 
[     140,     160 )   30975   0.003%  97.454% 
[     160,     180 )   27737   0.003%  97.457% 
[     180,     200 )   25354   0.003%  97.460% 
[     200,     250 )   58876   0.006%  97.465% 
[     250,     300 )   50418   0.005%  97.470% 
[     300,     350 )   46762   0.005%  97.475% 
[     350,     400 )   45420   0.005%  97.480% 
[     400,     450 )   44550   0.004%  97.484% 
[     450,     500 )   41324   0.004%  97.488% 
[     500,     600 )   74326   0.007%  97.496% 
[     600,     700 )   54278   0.005%  97.501% 
[     700,     800 )   45571   0.005%  97.506% 
[     800,     900 )   46369   0.005%  97.510% 
[     900,    1000 )   39242   0.004%  97.514% 
[    1000,    1200 ) 20952168   2.095%  99.609% 
[    1200,    1400 ) 1412533   0.141%  99.751% 
[    1400,    1600 )  352102   0.035%  99.786% 
[    1600,    1800 )  267238   0.027%  99.813% 
[    1800,    2000 )  225760   0.023%  99.835% 
[    2000,    2500 )  402875   0.040%  99.876% 
[    2500,    3000 )  309739   0.031%  99.907% 
[    3000,    3500 )  198798   0.020%  99.926% 
[    3500,    4000 )  136635   0.014%  99.940% 
[    4000,    4500 )   85881   0.009%  99.949% 
[    4500,    5000 )   57228   0.006%  99.954% 
[    5000,    6000 )   68374   0.007%  99.961% 
[    6000,    7000 )   36370   0.004%  99.965% 
[    7000,    8000 )   21852   0.002%  99.967% 
[    8000,    9000 )   17200   0.002%  99.969% 
[    9000,   10000 )   14834   0.001%  99.970% 
[   10000,   12000 )   26054   0.003%  99.973% 
[   12000,   14000 )   28320   0.003%  99.976% 
[   14000,   16000 )   33266   0.003%  99.979% 
[   16000,   18000 )   34788   0.003%  99.982% 
[   18000,   20000 )   30836   0.003%  99.986% 
[   20000,   25000 )   43213   0.004%  99.990% 
[   25000,   30000 )   14937   0.001%  99.991% 
[   30000,   35000 )    5743   0.001%  99.992% 
[   35000,   40000 )    4647   0.000%  99.992% 
[   40000,   45000 )    2898   0.000%  99.993% 
[   45000,   50000 )    1725   0.000%  99.993% 
[   50000,   60000 )    2934   0.000%  99.993% 
[   60000,   70000 )    5181   0.001%  99.994% 
[   70000,   80000 )   40177   0.004%  99.998% 
[   80000,   90000 )    2211   0.000%  99.998% 
[   90000,  100000 )    1272   0.000%  99.998% 
[  100000,  120000 )    1432   0.000%  99.998% 
[  120000,  140000 )    1386   0.000%  99.998% 
[  140000,  160000 )    1241   0.000%  99.998% 
[  160000,  180000 )    1037   0.000%  99.999% 
[  180000,  200000 )    1294   0.000%  99.999% 
[  200000,  250000 )    2883   0.000%  99.999% 
[  250000,  300000 )    3546   0.000%  99.999% 
[  300000,  350000 )    2651   0.000% 100.000% 
[  350000,  400000 )    1685   0.000% 100.000% 
[  400000,  450000 )     846   0.000% 100.000% 
[  450000,  500000 )     482   0.000% 100.000% 
[  500000,  600000 )     464   0.000% 100.000% 
[  600000,  700000 )     212   0.000% 100.000% 
[  700000,  800000 )      97   0.000% 100.000% 
[  800000,  900000 )      67   0.000% 100.000% 
[  900000, 1000000 )      44   0.000% 100.000% 
[ 1000000, 1200000 )      28   0.000% 100.000% 
[ 1200000, 1400000 )       7   0.000% 100.000% 
[ 1600000, 1800000 )       1   0.000% 100.000% 
[ 1800000, 2000000 )       2   0.000% 100.000% 


                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        4        3      6088        0    138028
  1       31       20     25020   541582    422854
  2      262      199      7790   177266    168416
  3     2134     1963      2590    61300     57999
  4     4380     4400       242     5350      4787
user_io:138027.665MB total_ios: 792084.130MB WriteAmplification: 5.7386

