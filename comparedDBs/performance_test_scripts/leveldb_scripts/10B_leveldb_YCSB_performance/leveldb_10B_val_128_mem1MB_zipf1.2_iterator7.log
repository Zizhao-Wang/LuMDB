../../../leveldb/release/db_bench --db=/mnt/hotdb_test/level10B/YCSBa_mem1_1.2_iterator7 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/home/jeff-wang/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/WorkloadAnalysis/comparedDBs/performance_test_scripts/leveldb_scripts/10B_leveldb_zipf_hot_removal/leveldb_memory_usage1MB_10B_key16_val128.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=1048576 --max_file_size=1048576 --print_wa=true 
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
WARNING: Snappy compression is not enabled
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path: 
  data_file_path: /home/jeff-wang/workloads/zipf1.2_keys10.0B.csv
  percentages: 
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2024-11-21 01:50:18 ... thread 0: (99999999,99999999) ops and (16858.7,16858.7) ops/second in (5931.666742,5931.666742) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2     890        0        0     13801     13801      0    2063 17344     0       0     0      0  2063         0 0.000000 0.000000
    1    34      21    3074    52107    52107     40298     40298      0    2168  2323     0       0     0  57355  2168        19 0.000000 1.020433
    2   229     200     941    17449    17449     16558     16558      0     576   604     0       0     0  17326   576       286 1.020433 0.961396
    3   724     725      82     1889     1889      1736      1736      0       0     0     0       0     0   1526     0         0 0.961396 0.000000
user_io:13800.556MB total_ios: 72392.694MB WriteAmplification: 5.2456
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2024-11-21 03:57:55 ... thread 0: (100000000,199999999) ops and (13060.5,14718.5) ops/second in (7656.690701,13588.357443) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7       6    1941        0        0     27603     27603      0    4100 34688     0       0     0      0  4100         0 0.000000 0.000000
    1    27      20    7052   105920   105920     82226     82226      0    4329  4637     0       0     0 118747  4329        37 0.000000 0.000306
    2   258     200    2137    34894    34894     33118     33118      0    1637  1732     0       0     0  37323  1637       286 0.000306 0.961396
    3  1418    1396     296     6544     6544      6032      6032      0       0     0     0       0     0   5469     0         0 0.961396 0.000000
user_io:27603.491MB total_ios: 148979.607MB WriteAmplification: 5.3971
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2024-11-21 06:08:21 ... thread 0: (100000000,299999999) ops and (12777.6,14009.2) ops/second in (7826.200671,21414.558114) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3    2951        0        0     41406     41406      0    6153 52040     0       0     0      0  6153         0 0.000000 0.000000
    1    33      20   10954   160005   160005    124411    124411      0    6491  6921     0       0     0 180623  6491        57 0.000000 1.023041
    2   280     196    3427    52437    52437     49793     49793      0    2703  2871     0       0     0  60536  2703       364 1.023041 1.023707
    3  1952    1919     614    12899    12899     12085     12085      0       0     0     0       0     0  11184     0       218 1.023707 1.022765
    4   218     215       0        0        0         0         0      0       0     0     0       0     0      0     0         0 1.022765 0.000000
user_io:41406.422MB total_ios: 227694.342MB WriteAmplification: 5.4990
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2024-11-21 08:40:59 ... thread 0: (100000000,399999999) ops and (10919.0,13083.5) ops/second in (9158.306755,30572.864869) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1       1    4110        0        0     55209     55209      0    8191 69392     0       0     0      0  8191         0 0.000000 0.000000
    1    27      20   15428   213751   213751    166270    166270      0    8677  9235     0       0     0 241810  8677        67 0.000000 0.000450
    2   322     196    4957    70034    70034     66486     66486      0    3796  4129     0       0     0  84683  3796       466 0.000450 1.023653
    3  2009    1963    1028    19935    19935     18909     18909      0       3     3     0       0     0  17705     3       986 1.023653 1.023233
    4   988     974       1       18       18        18        18      0       0     0     0       0     0     16     0         0 1.023233 0.000000
user_io:55209.334MB total_ios: 306892.226MB WriteAmplification: 5.5587
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2024-11-21 10:43:16 ... thread 0: (100000000,499999999) ops and (13629.9,13189.2) ops/second in (7336.819025,37909.683894) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2    4979        0        0     69013     69013      0   10270 86740     0       0     0      0 10270         0 0.000000 0.000000
    1    28      21   19078   267931   267931    208566    208566      0   10835 11520     0       0     0 303623 10835        88 0.000000 1.020893
    2   293     196    6140    87657    87657     83239     83239      0    4886  5273     0       0     0 108685  4886       470 1.020893 0.570421
    3  2026    1959    1323    26567    26567     25170     25170      0       5     5     0       0     0  23766     5      1675 0.570421 1.022443
    4  1679    1656       1       32       32        31        31      0       0     0     0       0     0     27     0         0 1.022443 0.000000
user_io:69013.075MB total_ios: 386019.950MB WriteAmplification: 5.5934
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2024-11-21 12:33:30 ... thread 0: (100000000,599999999) ops and (15120.5,13476.1) ops/second in (6613.557641,44523.241535) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6       5    5764        0        0     82816     82816      0   12359 104085     0       0     0      0 12359         0 0.000000 0.000000
    1    32      21   22275   322186   322186    250938    250938      0   13000 13807     0       0     0 365676 13000       109 0.000000 0.000306
    2   288     200    7208   105287   105287     99995     99995      0    6035  6495     0       0     0 133469  6035       470 0.000306 0.570421
    3  2050    1960    1583    33568    33568     31746     31746      0       8     8     0       0     0  30313     8      2295 0.570421 1.019821
    4  2302    2267       2       51       51        51        51      0       0     0     0       0     0     43     0         0 1.019821 0.000000
user_io:82815.972MB total_ios: 465545.651MB WriteAmplification: 5.6214
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2024-11-21 14:26:41 ... thread 0: (100000000,699999999) ops and (14725.6,13641.5) ops/second in (6790.901223,51314.142758) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3       2    6568        0        0     96618     96618      0   14446 121437     0       0     0      0 14446         0 0.000000 0.000000
    1    33      21   25544   376505   376505    293369    293369      0   15168 16101     0       0     0 427775 15168       131 0.000000 0.000308
    2   312     199    8264   123022   123022    116851    116851      0    7239  7760     0       0     0 157842  7239       471 0.000308 0.203247
    3  2038    1927    1868    40830    40830     38544     38544      0      11    11     0       0     0  37191    11      2914 0.203247 1.020458
    4  2924    2875       2       67       67        67        67      0       0     0     0       0     0     57     0         0 1.020458 0.000000
user_io:96618.089MB total_ios: 545448.335MB WriteAmplification: 5.6454
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2024-11-21 16:15:58 ... thread 0: (100000000,799999999) ops and (15249.1,13823.6) ops/second in (6557.769402,57871.912160) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2    7343        0        0    110422    110422      0   16529 138788     0       0     0      0 16529         0 0.000000 0.000000
    1    33      21   28664   430752   430752    335734    335734      0   17339 18412     0       0     0 489780 17339       158 0.000000 0.000306
    2   270     204    9257   140687   140687    133628    133628      0    8298  8915     0       0     0 181826  8298       604 0.000306 0.425437
    3  2089    1960    2095    47134    47134     44518     44518      0     386   386     0       0     0  43299   386      3220 0.425437 0.117281
    4  3272    3229      43     1058     1058       744       744      0       0     0     0       0     0    858     0         0 0.117281 0.000000
user_io:110421.818MB total_ios: 625046.421MB WriteAmplification: 5.6605
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2024-11-21 18:01:50 ... thread 0: (100000000,899999999) ops and (15744.8,14013.6) ops/second in (6351.305372,64223.217532) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3    8067        0        0    124225    124225      0   18623 156135     0       0     0      0 18623         0 0.000000 0.000000
    1    25      20   31647   485385   485385    378482    378482      0   19538 20740     0       0     0 552722 19538       176 0.000000 1.023634
    2   281     195   10180   158465   158465    150522    150522      0    9430 10158     0       0     0 206844  9430       607 1.023634 1.022505
    3  2093    1955    2362    54461    54461     51518     51518      0    1119  1119     0       0     0  50322  1119      3220 1.022505 0.117281
    4  3735    3722     127     3041     3041      2501      2501      0       0     0     0       0     0   2488     0         0 0.117281 0.000000
user_io:124224.740MB total_ios: 707247.551MB WriteAmplification: 5.6933
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2024-11-21 19:50:41 ... thread 0: (100000000,999999999) ops and (15309.8,14133.3) ops/second in (6531.755057,70754.972589) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5       4    8804        0        0    138028    138028      0   20711 173483     0       0     0      0 20711         0 0.000000 0.000000
    1    25      19   34707   539849   539849    421051    421051      0   21698 23028     0       0     0 615314 21698       198 0.000000 1.020492
    2   319     198   11164   176101   176101    167279    167279      0   10563 11365     0       0     0 231515 10563       607 1.020492 1.022505
    3  2155    1973    2626    61669    61669     58408     58408      0    1825  1826     0       0     0  57328  1825      3220 1.022505 0.117281
    4  4354    4370     222     4995     4995      4412      4412      0       0     0     0       0     0   4078     0         0 0.117281 0.000000
user_io:138027.665MB total_ios: 789178.009MB WriteAmplification: 5.7175
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :      70.755 micros/op 14133 ops/sec;    1.9 MB/s
Microseconds per op:
Count: 1000000000  Average: 70.7550  StdDev: 2010.00
Percentiles: P50: 7.16 P75: 10.43 P99: 1169.65 P99.9: 3954.86 P99.99: 48461.96
------------------------------------------------------
[       2,       3 )       7   0.000%   0.000% 
[       3,       4 ) 6873269   0.687%   0.687% 
[       4,       5 ) 116136566  11.614%  12.301% ##
[       5,       6 ) 209163984  20.916%  33.217% ####
[       6,       7 ) 150267939  15.027%  48.244% ###
[       7,       8 ) 107561244  10.756%  59.000% ##
[       8,       9 ) 81539318   8.154%  67.154% ##
[       9,      10 ) 60941291   6.094%  73.248% #
[      10,      12 ) 81713260   8.171%  81.420% ##
[      12,      14 ) 53285601   5.329%  86.748% #
[      14,      16 ) 40450927   4.045%  90.793% #
[      16,      18 ) 27722302   2.772%  93.566% #
[      18,      20 ) 14538828   1.454%  95.019% 
[      20,      25 ) 10508420   1.051%  96.070% 
[      25,      30 ) 2834373   0.283%  96.354% 
[      30,      35 ) 1010177   0.101%  96.455% 
[      35,      40 )  375942   0.038%  96.492% 
[      40,      45 )  138436   0.014%  96.506% 
[      45,      50 )   67079   0.007%  96.513% 
[      50,      60 )   67800   0.007%  96.520% 
[      60,      70 )   40526   0.004%  96.524% 
[      70,      80 )   32761   0.003%  96.527% 
[      80,      90 )   28495   0.003%  96.530% 
[      90,     100 )   24039   0.002%  96.532% 
[     100,     120 )   39015   0.004%  96.536% 
[     120,     140 )   28504   0.003%  96.539% 
[     140,     160 )   25651   0.003%  96.542% 
[     160,     180 )   22625   0.002%  96.544% 
[     180,     200 )   20992   0.002%  96.546% 
[     200,     250 )   50716   0.005%  96.551% 
[     250,     300 )   49988   0.005%  96.556% 
[     300,     350 )   48415   0.005%  96.561% 
[     350,     400 )   47956   0.005%  96.566% 
[     400,     450 )   46955   0.005%  96.570% 
[     450,     500 )   43474   0.004%  96.575% 
[     500,     600 )   75845   0.008%  96.582% 
[     600,     700 )   53831   0.005%  96.588% 
[     700,     800 )   47376   0.005%  96.592% 
[     800,     900 )   47836   0.005%  96.597% 
[     900,    1000 )   42094   0.004%  96.601% 
[    1000,    1200 ) 28277934   2.828%  99.429% #
[    1200,    1400 ) 2297481   0.230%  99.659% 
[    1400,    1600 )  455359   0.046%  99.704% 
[    1600,    1800 )  327445   0.033%  99.737% 
[    1800,    2000 )  297600   0.030%  99.767% 
[    2000,    2500 )  488130   0.049%  99.816% 
[    2500,    3000 )  397456   0.040%  99.856% 
[    3000,    3500 )  270336   0.027%  99.883% 
[    3500,    4000 )  191711   0.019%  99.902% 
[    4000,    4500 )  136156   0.014%  99.915% 
[    4500,    5000 )   95682   0.010%  99.925% 
[    5000,    6000 )  129831   0.013%  99.938% 
[    6000,    7000 )   82119   0.008%  99.946% 
[    7000,    8000 )   52440   0.005%  99.951% 
[    8000,    9000 )   35893   0.004%  99.955% 
[    9000,   10000 )   27292   0.003%  99.958% 
[   10000,   12000 )   44322   0.004%  99.962% 
[   12000,   14000 )   43543   0.004%  99.966% 
[   14000,   16000 )   36595   0.004%  99.970% 
[   16000,   18000 )   41060   0.004%  99.974% 
[   18000,   20000 )   39074   0.004%  99.978% 
[   20000,   25000 )   62577   0.006%  99.984% 
[   25000,   30000 )   24730   0.002%  99.987% 
[   30000,   35000 )   11368   0.001%  99.988% 
[   35000,   40000 )   10513   0.001%  99.989% 
[   40000,   45000 )    6975   0.001%  99.990% 
[   45000,   50000 )    3641   0.000%  99.990% 
[   50000,   60000 )    4448   0.000%  99.991% 
[   60000,   70000 )    4695   0.000%  99.991% 
[   70000,   80000 )   55972   0.006%  99.997% 
[   80000,   90000 )    3166   0.000%  99.997% 
[   90000,  100000 )    1901   0.000%  99.997% 
[  100000,  120000 )    2300   0.000%  99.997% 
[  120000,  140000 )    2130   0.000%  99.998% 
[  140000,  160000 )    2026   0.000%  99.998% 
[  160000,  180000 )    1280   0.000%  99.998% 
[  180000,  200000 )    1081   0.000%  99.998% 
[  200000,  250000 )    3392   0.000%  99.998% 
[  250000,  300000 )    3973   0.000%  99.999% 
[  300000,  350000 )    3754   0.000%  99.999% 
[  350000,  400000 )    2966   0.000%  99.999% 
[  400000,  450000 )    2037   0.000% 100.000% 
[  450000,  500000 )    1148   0.000% 100.000% 
[  500000,  600000 )    1218   0.000% 100.000% 
[  600000,  700000 )     556   0.000% 100.000% 
[  700000,  800000 )     315   0.000% 100.000% 
[  800000,  900000 )     181   0.000% 100.000% 
[  900000, 1000000 )     127   0.000% 100.000% 
[ 1000000, 1200000 )     117   0.000% 100.000% 
[ 1200000, 1400000 )      52   0.000% 100.000% 
[ 1400000, 1600000 )      22   0.000% 100.000% 
[ 1600000, 1800000 )      12   0.000% 100.000% 
[ 1800000, 2000000 )       4   0.000% 100.000% 
[ 2000000, 2500000 )       7   0.000% 100.000% 


                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        5        4      8804        0    138028
  1       25       19     34707   539849    421051
  2      319      198     11164   176101    167279
  3     2155     1973      2626    61669     58408
  4     4354     4370       222     4995      4412
user_io:138027.665MB total_ios: 789178.009MB WriteAmplification: 5.7175

