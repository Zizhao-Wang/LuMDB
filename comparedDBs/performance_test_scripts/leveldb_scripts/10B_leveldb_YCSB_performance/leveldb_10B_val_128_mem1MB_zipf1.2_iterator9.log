../../../leveldb/release/db_bench --db=/mnt/hotdb_test/level10B/YCSBa_mem1_1.2_iterator9 --num=1000000000 --value_size=128 --batch_size=1000 --benchmarks=fillzipf,stats --data_file=/home/jeff-wang/workloads/zipf1.2_keys10.0B.csv --logpath=/mnt/logs --bloom_bits=10 --log=1 --cache_size=8388608 --mem_log_file=/home/jeff-wang/WorkloadAnalysis/comparedDBs/performance_test_scripts/leveldb_scripts/10B_leveldb_zipf_hot_removal/leveldb_memory_usage1MB_10B_key16_val128.log --open_files=40000 --compression=0 --stats_interval=100000000 --histogram=1 --write_buffer_size=1048576 --max_file_size=1048576 --print_wa=true 
Keys:       16 bytes each
Values:     128 bytes each (64 bytes after compression)
Entries:    1000000000
RawSize:    137329.1 MB (estimated)
FileSize:   76293.9 MB (estimated)
WARNING: Optimization is disabled: benchmarks unnecessarily slow
WARNING: Assertions are enabled; benchmarks unnecessarily slow
WARNING: Snappy compression is not enabled
some command parameters have been selected:
  threads: 1
  duration: 0
  print_wa: 1
  num_entries: 1000000000
  bechmark selected fillzipf,stats
  hot_file_path: 
  data_file_path: /home/jeff-wang/workloads/zipf1.2_keys10.0B.csv
  percentages: 
------------------------------------------------
start benchmarking num_ = 1000000000 entries in DoWrite_zipf2()
2024-11-20 10:41:16 ... thread 0: (99999999,99999999) ops and (23557.4,23557.4) ops/second in (4244.948154,4244.948154) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     7       6     608        0        0     13801     13801      0    2121 17339     0       0     0      0  2121         0 0.000000 0.000000
    1    32      20    2286    52889    52889     41094     41094      0    2167  2332     0       0     0  58510  2167        21 0.000000 0.000307
    2   226     199     660    17602    17602     16697     16697      0     575   603     0       0     0  17419   575       282 0.000307 0.000306
    3   718     722      56     1903     1903      1748      1748      0       0     0     0       0     0   1512     0         0 0.000306 0.000000
user_io:13800.556MB total_ios: 73339.737MB WriteAmplification: 5.3143
leveldb statistical: 99999999 operations (real operations: 100000000) have been finished (user has been written 0.000 MB data into db.)


2024-11-20 11:59:25 ... thread 0: (100000000,199999999) ops and (21326.9,22386.7) ops/second in (4688.920920,8933.869074) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     3       2    1206        0        0     27603     27603      0    4233 34692     0       0     0      0  4233         0 0.000000 0.000000
    1    32      21    4776   107863   107863     84174     84174      0    4337  4647     0       0     0 121530  4337        39 0.000000 1.020521
    2   256     196    1402    35409    35409     33632     33632      0    1648  1747     0       0     0  37909  1648       282 1.020521 0.000306
    3  1418    1402     204     6698     6698      6181      6181      0       0     0     0       0     0   5610     0         0 0.000306 0.000000
user_io:27603.491MB total_ios: 151590.731MB WriteAmplification: 5.4917
leveldb statistical: 199999999 operations (real operations: 200000000) have been finished (user has been written 13733.014 MB data into db.)


2024-11-20 13:21:52 ... thread 0: (100000000,299999999) ops and (20214.9,21612.7) ops/second in (4946.840077,13880.709151) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1       1    1816        0        0     41406     41406      0    6360 52043     0       0     0      0  6360         0 0.000000 0.000000
    1    27      21    7269   162744   162744    127179    127179      0    6527  6965     0       0     0 184611  6527        61 0.000000 1.021273
    2   236     169    2219    53256    53256     50583     50583      0    2694  2861     0       0     0  61576  2694       404 1.021273 1.022391
    3  1727    1692     408    12908    12908     12097     12097      0       0     0     0       0     0  11184     0       483 1.022391 1.019930
    4   483     476       0        0        0         0         0      0       0     0     0       0     0      0     0         0 1.019930 0.000000
user_io:41406.422MB total_ios: 231265.815MB WriteAmplification: 5.5853
leveldb statistical: 299999999 operations (real operations: 300000000) have been finished (user has been written 27466.030 MB data into db.)


2024-11-20 14:49:02 ... thread 0: (100000000,399999999) ops and (19120.7,20930.7) ops/second in (5229.932661,19110.641812) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3    2462        0        0     55209     55209      0    8479 69389     0       0     0      0  8479         0 0.000000 0.000000
    1    33      20    9872   217272   217272    169828    169828      0    8702  9265     0       0     0 246985  8702        83 0.000000 1.021246
    2   311     198    3023    70989    70989     67432     67432      0    3809  4125     0       0     0  85780  3809       464 1.021246 0.000450
    3  1944    1896     629    19797    19797     18726     18726      0       4     4     0       0     0  17550     4      1030 0.000450 1.019978
    4  1034    1020       1       23       23        23        23      0       0     0     0       0     0     19     0         0 1.019978 0.000000
user_io:55209.334MB total_ios: 311217.642MB WriteAmplification: 5.6370
leveldb statistical: 399999999 operations (real operations: 400000000) have been finished (user has been written 41199.045 MB data into db.)


2024-11-20 16:18:27 ... thread 0: (100000000,499999999) ops and (18640.7,20428.8) ops/second in (5364.607909,24475.249721) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3    3095        0        0     69012     69012      0   10597 86738     0       0     0      0 10597         0 0.000000 0.000000
    1    30      21   12527   271739   271739    212406    212406      0   10857 11553     0       0     0 309431 10857       100 0.000000 1.022580
    2   320     195    3870    88600    88600     84159     84159      0    4904  5276     0       0     0 110152  4904       467 1.022580 0.483834
    3  2003    1942     855    26766    26766     25369     25369      0       7     7     0       0     0  23969     7      1695 0.483834 1.019553
    4  1702    1679       1       48       48        48        48      0       0     0     0       0     0     41     0         0 1.019553 0.000000
user_io:69012.280MB total_ios: 390994.045MB WriteAmplification: 5.6656
leveldb statistical: 499999999 operations (real operations: 500000000) have been finished (user has been written 54932.060 MB data into db.)


2024-11-20 17:49:29 ... thread 0: (100000000,599999999) ops and (18306.3,20041.5) ops/second in (5462.589969,29937.839690) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     5       4    3750        0        0     82815     82815      0   12713 104086     0       0     0      0 12713         0 0.000000 0.000000
    1    27      19   15180   325628   325628    254418    254418      0   13008 13854     0       0     0 370785 13008       125 0.000000 0.000308
    2   280     197    4710   106157   106157    100828    100828      0    6045  6488     0       0     0 134223  6045       468 0.000308 0.313498
    3  1986    1881    1073    33631    33631     31830     31830      0      13    13     0       0     0  30411    13      2400 0.313498 0.679922
    4  2413    2375       2       76       76        76        76      0       0     0     0       0     0     63     0         0 0.679922 0.000000
user_io:82815.176MB total_ios: 469967.878MB WriteAmplification: 5.6749
leveldb statistical: 599999999 operations (real operations: 600000000) have been finished (user has been written 68665.074 MB data into db.)


2024-11-20 19:18:39 ... thread 0: (100000000,699999999) ops and (18692.7,19837.0) ops/second in (5349.694857,35287.534547) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     1       1    4394        0        0     96618     96618      0   14838 121439     0       0     0      0 14838         0 0.000000 0.000000
    1    31      20   17746   379284   379284    296193    296193      0   15175 16127     0       0     0 431847 15175       148 0.000000 1.021237
    2   282     195    5522   123772   123772    117561    117561      0    7258  7765     0       0     0 158333  7258       469 1.021237 0.000306
    3  1975    1859    1285    40543    40543     38293     38293      0      15    15     0       0     0  36973    15      3026 0.000306 1.021483
    4  3041    2991       2       81       81        81        81      0       0     0     0       0     0     66     0         0 1.021483 0.000000
user_io:96618.089MB total_ios: 548746.208MB WriteAmplification: 5.6795
leveldb statistical: 699999999 operations (real operations: 700000000) have been finished (user has been written 82398.090 MB data into db.)


2024-11-20 20:47:24 ... thread 0: (100000000,799999999) ops and (18780.1,19698.5) ops/second in (5324.785805,40612.320352) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     4       3    5000        0        0    110422    110422      0   16965 138786     0       0     0      0 16965         0 0.000000 0.000000
    1    31      20   20293   433445   433445    338478    338478      0   17341 18422     0       0     0 493673 17341       167 0.000000 0.000598
    2   315     199    6324   141486   141486    134394    134394      0    8311  8960     0       0     0 182652  8311       598 0.000598 0.366825
    3  2117    1977    1496    47447    47447     44904     44904      0     616   617     0       0     0  43574   616      3070 0.366825 0.000306
    4  3244    3208      38     1695     1695      1282      1282      0       0     0     0       0     0   1400     0         0 0.000306 0.000000
user_io:110421.818MB total_ios: 629480.947MB WriteAmplification: 5.7007
leveldb statistical: 799999999 operations (real operations: 800000000) have been finished (user has been written 96131.105 MB data into db.)


2024-11-20 22:17:46 ... thread 0: (100000000,899999999) ops and (18440.7,19550.3) ops/second in (5422.779772,46035.100124) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     2       2    5610        0        0    124225    124225      0   19088 156137     0       0     0      0 19088         0 0.000000 0.000000
    1    30      20   22863   488313   488313    381458    381458      0   19500 20721     0       0     0 556643 19500       189 0.000000 0.000306
    2   311     199    7102   159146   159146    151182    151182      0    9419 10145     0       0     0 206794  9419       599 0.000306 0.637029
    3  2155    1993    1711    54275    54275     51387     51387      0    1318  1320     0       0     0  50136  1318      3070 0.637029 0.000306
    4  3775    3767      87     3573     3573      3035      3035      0       0     0     0       0     0   2934     0         0 0.000306 0.000000
user_io:124224.740MB total_ios: 711287.074MB WriteAmplification: 5.7258
leveldb statistical: 899999999 operations (real operations: 900000000) have been finished (user has been written 109864.120 MB data into db.)


2024-11-20 23:50:57 ... thread 0: (100000000,999999999) ops and (17887.9,19370.3) ops/second in (5590.371269,51625.471393) seconds
                               Compactions
Level Files Size(M) Time(s) ReadH(M) ReadC(M) WriteH(M) WriteC(M) m_comp si_comp ifile pfile se_comp ifiles pfiles comps triv_move t_last_b t_next_b
--------------------------------------------------
    0     6       5    6247        0        0    138027    138027      0   21205 173481     0       0     0      0 21205         0 0.000000 0.000000
    1    27      20   25457   543099   543099    424362    424362      0   21680 23033     0       0     0 619604 21680       209 0.000000 1.020797
    2   276     198    7927   176966   176966    168125    168125      0   10558 11381     0       0     0 231873 10558       599 1.020797 0.637029
    3  2166    1977    1926    61174    61174     57879     57879      0    1981  1989     0       0     0  56843  1981      3070 0.637029 0.000306
    4  4375    4395     138     5400     5400      4839      4839      0       0     0     0       0     0   4446     0         0 0.000306 0.000000
user_io:138026.869MB total_ios: 793233.015MB WriteAmplification: 5.7469
leveldb statistical: 999999999 operations (real operations: 1000000000) have been finished (user has been written 123597.135 MB data into db.)


1000000000 operations have been finished (137330.149 MB data have been written into db)
fillzipf     :      51.625 micros/op 19370 ops/sec;    2.7 MB/s
Microseconds per op:
Count: 1000000000  Average: 51.6255  StdDev: 1547.89
Percentiles: P50: 6.82 P75: 9.58 P99: 1146.27 P99.9: 3196.27 P99.99: 23538.74
------------------------------------------------------
[       2,       3 )       1   0.000%   0.000% 
[       3,       4 ) 6313017   0.631%   0.631% 
[       4,       5 ) 129389284  12.939%  13.570% ###
[       5,       6 ) 233287764  23.329%  36.899% #####
[       6,       7 ) 160512476  16.051%  52.950% ###
[       7,       8 ) 108719891  10.872%  63.822% ##
[       8,       9 ) 78685959   7.869%  71.691% ##
[       9,      10 ) 56917038   5.692%  77.383% #
[      10,      12 ) 73204465   7.320%  84.703% #
[      12,      14 ) 44249740   4.425%  89.128% #
[      14,      16 ) 32991599   3.299%  92.427% #
[      16,      18 ) 23022874   2.302%  94.729% 
[      18,      20 ) 13023966   1.302%  96.032% 
[      20,      25 ) 9593548   0.959%  96.991% 
[      25,      30 ) 2582678   0.258%  97.249% 
[      30,      35 )  983852   0.098%  97.348% 
[      35,      40 )  383046   0.038%  97.386% 
[      40,      45 )  143296   0.014%  97.400% 
[      45,      50 )   71018   0.007%  97.408% 
[      50,      60 )   73618   0.007%  97.415% 
[      60,      70 )   48425   0.005%  97.420% 
[      70,      80 )   40899   0.004%  97.424% 
[      80,      90 )   35130   0.004%  97.427% 
[      90,     100 )   27283   0.003%  97.430% 
[     100,     120 )   42835   0.004%  97.434% 
[     120,     140 )   32834   0.003%  97.438% 
[     140,     160 )   30518   0.003%  97.441% 
[     160,     180 )   27485   0.003%  97.443% 
[     180,     200 )   26372   0.003%  97.446% 
[     200,     250 )   62852   0.006%  97.452% 
[     250,     300 )   61219   0.006%  97.458% 
[     300,     350 )   58861   0.006%  97.464% 
[     350,     400 )   57012   0.006%  97.470% 
[     400,     450 )   53418   0.005%  97.475% 
[     450,     500 )   46747   0.005%  97.480% 
[     500,     600 )   75031   0.008%  97.488% 
[     600,     700 )   53416   0.005%  97.493% 
[     700,     800 )   47283   0.005%  97.498% 
[     800,     900 )   50049   0.005%  97.503% 
[     900,    1000 )   44516   0.004%  97.507% 
[    1000,    1200 ) 20412754   2.041%  99.548% 
[    1200,    1400 ) 1626583   0.163%  99.711% 
[    1400,    1600 )  413459   0.041%  99.752% 
[    1600,    1800 )  278676   0.028%  99.780% 
[    1800,    2000 )  250070   0.025%  99.805% 
[    2000,    2500 )  459458   0.046%  99.851% 
[    2500,    3000 )  385968   0.039%  99.890% 
[    3000,    3500 )  259120   0.026%  99.916% 
[    3500,    4000 )  179661   0.018%  99.934% 
[    4000,    4500 )  112985   0.011%  99.945% 
[    4500,    5000 )   72988   0.007%  99.952% 
[    5000,    6000 )   81171   0.008%  99.960% 
[    6000,    7000 )   40581   0.004%  99.964% 
[    7000,    8000 )   22912   0.002%  99.967% 
[    8000,    9000 )   17230   0.002%  99.968% 
[    9000,   10000 )   15425   0.002%  99.970% 
[   10000,   12000 )   29611   0.003%  99.973% 
[   12000,   14000 )   33368   0.003%  99.976% 
[   14000,   16000 )   32094   0.003%  99.980% 
[   16000,   18000 )   34483   0.003%  99.983% 
[   18000,   20000 )   33232   0.003%  99.986% 
[   20000,   25000 )   52075   0.005%  99.992% 
[   25000,   30000 )   18564   0.002%  99.993% 
[   30000,   35000 )    7710   0.001%  99.994% 
[   35000,   40000 )    6533   0.001%  99.995% 
[   40000,   45000 )    3541   0.000%  99.995% 
[   45000,   50000 )    1631   0.000%  99.995% 
[   50000,   60000 )    1571   0.000%  99.995% 
[   60000,   70000 )    2031   0.000%  99.996% 
[   70000,   80000 )   24899   0.002%  99.998% 
[   80000,   90000 )     861   0.000%  99.998% 
[   90000,  100000 )     549   0.000%  99.998% 
[  100000,  120000 )     628   0.000%  99.998% 
[  120000,  140000 )     623   0.000%  99.998% 
[  140000,  160000 )     606   0.000%  99.998% 
[  160000,  180000 )     539   0.000%  99.999% 
[  180000,  200000 )     728   0.000%  99.999% 
[  200000,  250000 )    2165   0.000%  99.999% 
[  250000,  300000 )    3701   0.000%  99.999% 
[  300000,  350000 )    3079   0.000% 100.000% 
[  350000,  400000 )    1947   0.000% 100.000% 
[  400000,  450000 )    1134   0.000% 100.000% 
[  450000,  500000 )     529   0.000% 100.000% 
[  500000,  600000 )     521   0.000% 100.000% 
[  600000,  700000 )     229   0.000% 100.000% 
[  700000,  800000 )     151   0.000% 100.000% 
[  800000,  900000 )     117   0.000% 100.000% 
[  900000, 1000000 )      55   0.000% 100.000% 
[ 1000000, 1200000 )      73   0.000% 100.000% 
[ 1200000, 1400000 )      32   0.000% 100.000% 
[ 1400000, 1600000 )      19   0.000% 100.000% 
[ 1600000, 1800000 )       7   0.000% 100.000% 
[ 1800000, 2000000 )       3   0.000% 100.000% 
[ 2000000, 2500000 )       3   0.000% 100.000% 
[ 2500000, 3000000 )       2   0.000% 100.000% 


                               Compactions
Level  Files Size(MB) Time(sec) Read(MB) Write(MB)
--------------------------------------------------
  0        6        5      6247        0    138027
  1       27       20     25457   543099    424362
  2      276      198      7927   176966    168125
  3     2166     1977      1926    61174     57879
  4     4375     4395       138     5400      4839
user_io:138026.869MB total_ios: 793233.015MB WriteAmplification: 5.7469

